## Test semantic label system

define Start(p)
{
  gSubNum <- 999

  ## Test 1: With semantic labels defined
  Print("=== TEST 1: With responselabels parameter ===")
  gWin <- MakeWindow("black")

  parpairs <- [["responsemode","keyboardShift"],
               ["responselabels",["SAME","DIFFERENT"]]]
  gParams <- CreateParameters(parpairs, gParamFile)

  gLayout <- CreateLayout("test", gWin, gParams)

  Print("Response mode type: " + gLayout.responseMode.type)
  Print("Response mode keys: " + gLayout.responseMode.keys)
  Print("Response mode semantic: " + gLayout.responseMode.semantic)
  Print("Footer text: " + gLayout.footer.text)
  Print("Response labels:")
  loop(label, gLayout.responseLabels)
  {
    Print("  - " + label.text)
  }

  Draw()
  Wait(3000)

  ## Test 2: Without semantic labels (should use defaults)
  Print("")
  Print("=== TEST 2: Without responselabels parameter (defaults) ===")

  parpairs2 <- [["responsemode","keyboardShift"]]
  gParams2 <- CreateParameters(parpairs2, gParamFile)

  gLayout2 <- CreateLayout("test2", gWin, gParams2)

  Print("Footer text: " + gLayout2.footer.text)
  Print("Response labels:")
  loop(label, gLayout2.responseLabels)
  {
    Print("  - " + label.text)
  }

  Draw()
  Wait(3000)

  ## Test 3: Mousebutton mode with semantic labels
  Print("")
  Print("=== TEST 3: Mousebutton mode with semantic labels ===")

  parpairs3 <- [["responsemode","mousebutton"],
                ["responselabels",["YES","NO"]]]
  gParams3 <- CreateParameters(parpairs3, gParamFile)

  gLayout3 <- CreateLayout("test3", gWin, gParams3)

  Print("Response mode type: " + gLayout3.responseMode.type)
  Print("Footer text: " + gLayout3.footer.text)
  Print("Response labels:")
  loop(label, gLayout3.responseLabels)
  {
    Print("  - " + label.text)
  }

  Draw()
  Wait(3000)
}
