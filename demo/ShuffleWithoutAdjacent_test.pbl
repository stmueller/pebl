define Start(lPar)
{
 # number <- 351
  number <- RandomDiscrete(1000)
  Print("Seed: " + number)
   SeedRNG(number)

  PRint(FindToken(1,[1,2,3]))
  Print(FindToken(1,[2,1,3]))
  Print(FindToken(1,[2,3,1]))
  Print(FindToken(1,[2,3,5]))
  Print(FindToken(1,[1,[1,1],3,5]))
  Print(FindToken(1,[2,[1,1],3,5]))
  Print(FindToken(1,[2,[3,[1]],3,5]))
  Print(FindToken(1,[2,[3,[3]],3,5]))


if(1)
{
    n <- 1000

    a <- 0
	loop(i,Sequence(1,n,1))
	{
		#rules <- ShuffleWithoutAdjacentsOnce([[11,12,13],[21,22,23],[31,32,33]])
 	        rules <- ShuffleWithoutAdjacents([[1,1,1],[2,2,2],[3,3,3]],-1)
		rulesLast <- -1;
		loop(j,Sequence(1,9,1))
		{
			rule <- First(rules)

			if (rule==rulesLast)
			{
			    a <- a+1
			    break
			}
			rules <- Rotate(rules,1)
			rulesLast <- rule;
		}
	}
	Print("Adjacent(n=" + n + ") = " + Roundoff(a/n,4)*100 + "%")
}

}
define Roundoff(x,dec)
{
  power <- 10^dec
  return   Round( x * power)/power
}

