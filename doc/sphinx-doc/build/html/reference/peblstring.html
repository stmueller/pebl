<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PEBLString - String Manipulation &#8212; PEBL Function Reference</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=cb25574f" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=4c664190" />
    <script src="../_static/documentation_options.js?v=c4a36953"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Design Library - Experimental Design" href="design.html" />
    <link rel="prev" title="PEBLStream - File and Network I/O" href="peblstream.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="peblstring-string-manipulation">
<h1>PEBLString - String Manipulation<a class="headerlink" href="#peblstring-string-manipulation" title="Link to this heading">¶</a></h1>
<p>This module contains functions for string manipulation and formatting.</p>
<nav class="contents local" id="function-index">
<p class="topic-title">Function Index</p>
<ul class="simple">
<li><p><a class="reference internal" href="#copytoclipboard" id="id1">CopyToClipboard()</a></p></li>
<li><p><a class="reference internal" href="#findinstring" id="id2">FindInString()</a></p></li>
<li><p><a class="reference internal" href="#format" id="id3">Format()</a></p></li>
<li><p><a class="reference internal" href="#lowercase" id="id4">Lowercase()</a></p></li>
<li><p><a class="reference internal" href="#splitstring" id="id5">SplitString()</a></p></li>
<li><p><a class="reference internal" href="#stringlength" id="id6">StringLength()</a></p></li>
<li><p><a class="reference internal" href="#substring" id="id7">SubString()</a></p></li>
<li><p><a class="reference internal" href="#toascii" id="id8">ToASCII()</a></p></li>
<li><p><a class="reference internal" href="#uppercase" id="id9">Uppercase()</a></p></li>
<li><p><a class="reference internal" href="#detecttextscript" id="id10">DetectTextScript()</a></p></li>
<li><p><a class="reference internal" href="#isrtl" id="id11">IsRTL()</a></p></li>
<li><p><a class="reference internal" href="#getfontfortext" id="id12">GetFontForText()</a></p></li>
<li><p><a class="reference internal" href="#getsystemlocale" id="id13">GetSystemLocale()</a></p></li>
<li><p><a class="reference internal" href="#issystemlocalertl" id="id14">IsSystemLocaleRTL()</a></p></li>
</ul>
</nav>
<section id="copytoclipboard">
<span id="index-0"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">CopyToClipboard()</a><a class="headerlink" href="#copytoclipboard" title="Link to this heading">¶</a></h2>
<p><em>Puts argument in system clipboard.</em></p>
<p><strong>Description:</strong></p>
<p>Puts text into the the system clipboard, so that it can be accessed either by another program or by the <code class="docutils literal notranslate"><span class="pre">Copyfromclipboard</span></code> function. Note that, possibly depending on platform, text copied into the clipboard by PEBL may not stay there after PEBL exits.</p>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetInput</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="s2">&quot;&lt;enter&gt;&quot;</span><span class="p">)</span>
<span class="nf">CopyToClipboard</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="s2">&quot;Text : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; copied to clipboard&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblenvironment.html#copyfromclipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyFromClipboard()</span></code></a></p>
</section>
<section id="findinstring">
<span id="index-1"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">FindInString()</a><a class="headerlink" href="#findinstring" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Finds a token in a string, returning the position (starting at a particular position).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">FindInString</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">basestring</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nv">searchstring</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nv">startingpos</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">FindInString</span><span class="p">(</span><span class="s2">&quot;about&quot;</span><span class="p">,</span><span class="s2">&quot;bo&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w">         </span><span class="c1"># == 2</span>
<span class="nf">FindInString</span><span class="p">(</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span><span class="s2">&quot;na&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w">        </span><span class="c1"># == 3</span>
<span class="nf">FindInString</span><span class="p">(</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span><span class="s2">&quot;na&quot;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w">        </span><span class="c1"># == 5</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#splitstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">SplitString()</span></code></a></p>
</section>
<section id="format">
<span id="index-2"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Format()</a><a class="headerlink" href="#format" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Formats the printing of values to ensure proper spacing. It will either truncate or pad <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> with spaces so that it ends up exactly <code class="docutils literal notranslate"><span class="pre">&lt;length&gt;</span></code> characters long. Character padding is at the end.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Format</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">value</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mf">33.23425225</span>
<span class="nv">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mf">23.3</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nf">Format</span><span class="p">(</span><span class="nv">x</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nf">Format</span><span class="p">(</span><span class="nv">y</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
<span class="c1">## Output:</span>
<span class="c1">## [33.23 ]</span>
<span class="c1">## [23.3  ]</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="utility.html#cr"><code class="xref py py-func docutils literal notranslate"><span class="pre">CR()</span></code></a>, <a class="reference internal" href="utility.html#tab"><code class="xref py py-func docutils literal notranslate"><span class="pre">Tab()</span></code></a></p>
</section>
<section id="lowercase">
<span id="index-3"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Lowercase()</a><a class="headerlink" href="#lowercase" title="Link to this heading">¶</a></h2>
<p><em>Returns lowercased string</em></p>
<p><strong>Description:</strong></p>
<p>Changes a string to lowercase.  Useful for testing user                 input against a stored value, to ensure case differences                are not detected.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Lowercase</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">string</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Lowercase</span><span class="p">(</span><span class="s2">&quot;POtaTo&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># == &quot;potato&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#uppercase"><code class="xref py py-func docutils literal notranslate"><span class="pre">Uppercase()</span></code></a></p>
</section>
<section id="splitstring">
<span id="index-4"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">SplitString()</a><a class="headerlink" href="#splitstring" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Splits a string into tokens. <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> must be a string. If           <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> is not found in <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>, a list containing the entire                  string is returned; if split is equal to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, the each letter                in the string is placed into a different item in the list.  Only the first character of <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> is used.  IF you need a multicharacter split, you can use <code class="docutils literal notranslate"><span class="pre">&lt;SplitStringSlow&gt;</span></code>, which can handle multi-character splits but is relatively slower. This should not matter for short strings, but if you are using splitstring on long files, it could make a difference.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SplitString</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">string</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">split</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SplitString</span><span class="p">(</span><span class="s2">&quot;Everybody Loves a Clown&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="c1"># Produces [&quot;Everybody&quot;, &quot;Loves&quot;, &quot;a&quot;, &quot;Clown&quot;]</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#findinstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">FindInString()</span></code></a>, <a class="reference internal" href="utility.html#replacechar"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReplaceChar()</span></code></a>, <a class="reference internal" href="utility.html#splitstringslow"><code class="xref py py-func docutils literal notranslate"><span class="pre">SplitStringSlow()</span></code></a></p>
</section>
<section id="stringlength">
<span id="index-5"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">StringLength()</a><a class="headerlink" href="#stringlength" title="Link to this heading">¶</a></h2>
<p><em>Returns the length of a string</em></p>
<p><strong>Description:</strong></p>
<p>Determines the length of a string, in characters.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">StringLength</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">string</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">StringLength</span><span class="p">(</span><span class="s2">&quot;absolute&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1"># == 8</span>
<span class="nf">StringLength</span><span class="p">(</span><span class="s2">&quot;   spaces   &quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># == 12</span>
<span class="nf">StringLength</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w">             </span><span class="c1"># == 0</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="pebllist.html#length"><code class="xref py py-func docutils literal notranslate"><span class="pre">Length()</span></code></a>, <a class="reference internal" href="#substring"><code class="xref py py-func docutils literal notranslate"><span class="pre">SubString()</span></code></a></p>
</section>
<section id="substring">
<span id="index-6"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">SubString()</a><a class="headerlink" href="#substring" title="Link to this heading">¶</a></h2>
<p><em>Returns a substring</em></p>
<p><strong>Description:</strong></p>
<p>Extracts a substring from a longer string.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SubString</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">string</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nv">position</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nv">length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SubString</span><span class="p">(</span><span class="s2">&quot;abcdefghijklmnop&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w">    </span><span class="c1"># == &quot;cdefg&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#stringlength"><code class="xref py py-func docutils literal notranslate"><span class="pre">StringLength()</span></code></a>, <a class="reference internal" href="#findinstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">FindInString()</span></code></a></p>
</section>
<section id="toascii">
<span id="index-7"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">ToASCII()</a><a class="headerlink" href="#toascii" title="Link to this heading">¶</a></h2>
<p><em>Converts an ASCII code to a character</em></p>
<p><strong>Description:</strong></p>
<p>Converts an integer ASCII code to its corresponding single-character string. This is useful for creating special characters or control characters from their numeric codes.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">ToASCII</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">ascii_code</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">ToASCII</span><span class="p">(</span><span class="mi">65</span><span class="p">)</span><span class="w">    </span><span class="c1"># == &quot;A&quot;</span>
<span class="nf">ToASCII</span><span class="p">(</span><span class="mi">97</span><span class="p">)</span><span class="w">    </span><span class="c1"># == &quot;a&quot;</span>
<span class="nf">ToASCII</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w">    </span><span class="c1"># == &quot; &quot; (space)</span>
<span class="nf">ToASCII</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">    </span><span class="c1"># == newline character</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#stringlength"><code class="xref py py-func docutils literal notranslate"><span class="pre">StringLength()</span></code></a>, <a class="reference internal" href="#uppercase"><code class="xref py py-func docutils literal notranslate"><span class="pre">Uppercase()</span></code></a>, <a class="reference internal" href="#lowercase"><code class="xref py py-func docutils literal notranslate"><span class="pre">Lowercase()</span></code></a></p>
</section>
<section id="uppercase">
<span id="index-8"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Uppercase()</a><a class="headerlink" href="#uppercase" title="Link to this heading">¶</a></h2>
<p><em>Returns uppercased string</em></p>
<p><strong>Description:</strong></p>
<p>Changes a string to uppercase.  Useful for testing user                 input against a stored value, to ensure case differences                are not detected.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Uppercase</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">string</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Uppercase</span><span class="p">(</span><span class="s2">&quot;POtaTo&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># == &quot;POTATO&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#lowercase"><code class="xref py py-func docutils literal notranslate"><span class="pre">Lowercase()</span></code></a></p>
</section>
<section id="detecttextscript">
<span id="index-9"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">DetectTextScript()</a><a class="headerlink" href="#detecttextscript" title="Link to this heading">¶</a></h2>
<p><em>Detects the Unicode script of text</em></p>
<p><strong>Description:</strong></p>
<p>Analyzes text and returns the ISO 15924 four-letter script code identifying the writing system used. Returns codes such as “Arab” (Arabic), “Hebr” (Hebrew), “Hani” (Han/Chinese), “Thai” (Thai), “Cyrl” (Cyrillic), etc. Returns an empty string for Latin script or when the script cannot be determined. This is useful for automatic font selection, determining text directionality, and providing appropriate text rendering for international content.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">text</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Detect scripts in different languages</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">))</span><span class="w">           </span><span class="c1">## &quot;&quot; (Latin)</span>
<span class="c1">## Arabic text &quot;marhaba&quot; (hello):</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="nv">arabicText</span><span class="p">))</span><span class="w">        </span><span class="c1">## &quot;Arab&quot; (Arabic)</span>
<span class="c1">## Hebrew text &quot;shalom&quot; (hello):</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="nv">hebrewText</span><span class="p">))</span><span class="w">        </span><span class="c1">## &quot;Hebr&quot; (Hebrew)</span>
<span class="c1">## Chinese text &quot;nihao&quot; (hello):</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="nv">chineseText</span><span class="p">))</span><span class="w">       </span><span class="c1">## &quot;Hani&quot; (Chinese)</span>
<span class="c1">## Thai text &quot;sawasdee&quot; (hello):</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="nv">thaiText</span><span class="p">))</span><span class="w">          </span><span class="c1">## &quot;Thai&quot; (Thai)</span>
<span class="c1">## Cyrillic text &quot;privet&quot; (hello):</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">DetectTextScript</span><span class="p">(</span><span class="nv">cyrillicText</span><span class="p">))</span><span class="w">      </span><span class="c1">## &quot;Cyrl&quot; (Cyrillic)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#isrtl"><code class="xref py py-func docutils literal notranslate"><span class="pre">IsRTL()</span></code></a>, <a class="reference internal" href="#getfontfortext"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetFontForText()</span></code></a>, <a class="reference internal" href="#getsystemlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetSystemLocale()</span></code></a></p>
</section>
<section id="isrtl">
<span id="index-10"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">IsRTL()</a><a class="headerlink" href="#isrtl" title="Link to this heading">¶</a></h2>
<p><em>Determines if text or script is right-to-left</em></p>
<p><strong>Description:</strong></p>
<p>Tests whether the input is right-to-left (RTL) text. The function accepts either actual text (which will be analyzed to detect its script) or a four-letter ISO 15924 script code. Returns 1 for RTL scripts (Arabic, Hebrew, etc.) and 0 for LTR scripts. This is essential for proper text layout, UI mirroring, and ensuring correct text directionality in international experiments.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">IsRTL</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">text_or_script_code</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Test with actual text</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">))</span><span class="w">                </span><span class="c1">## 0 (LTR)</span>
<span class="c1">## Arabic text &quot;marhaba&quot;:</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="nv">arabicText</span><span class="p">))</span><span class="w">             </span><span class="c1">## 1 (RTL - Arabic)</span>
<span class="c1">## Hebrew text &quot;shalom&quot;:</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="nv">hebrewText</span><span class="p">))</span><span class="w">             </span><span class="c1">## 1 (RTL - Hebrew)</span>

<span class="c1">## Test with script codes</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="s2">&quot;Arab&quot;</span><span class="p">))</span><span class="w">                 </span><span class="c1">## 1 (Arabic script is RTL)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="s2">&quot;Hebr&quot;</span><span class="p">))</span><span class="w">                 </span><span class="c1">## 1 (Hebrew script is RTL)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="s2">&quot;Latn&quot;</span><span class="p">))</span><span class="w">                 </span><span class="c1">## 0 (Latin script is LTR)</span>

<span class="c1">## Use for text justification</span>
<span class="nv">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetInput</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&lt;return&gt;&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="p">(</span><span class="nf">IsRTL</span><span class="p">(</span><span class="nv">text</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="nv">textbox.hjustify</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;right&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#detecttextscript"><code class="xref py py-func docutils literal notranslate"><span class="pre">DetectTextScript()</span></code></a>, <a class="reference internal" href="#issystemlocalertl"><code class="xref py py-func docutils literal notranslate"><span class="pre">IsSystemLocaleRTL()</span></code></a>, <a class="reference internal" href="#getfontfortext"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetFontForText()</span></code></a></p>
</section>
<section id="getfontfortext">
<span id="index-11"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">GetFontForText()</a><a class="headerlink" href="#getfontfortext" title="Link to this heading">¶</a></h2>
<p><em>Returns appropriate font filename for text based on detected script</em></p>
<p><strong>Description:</strong></p>
<p>Automatically selects an appropriate font for the given text by detecting its Unicode script. This ensures proper rendering of international text by choosing fonts that support the necessary character ranges. The optional font_type parameter specifies the font style: 0 for sans-serif (default), 1 for monospace, or 2 for serif. Returns a font filename suitable for use with <a class="reference internal" href="peblobjects.html#makefont"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeFont()</span></code></a>. The function uses the DejaVu and Noto font families which provide extensive Unicode coverage.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">GetFontForText</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">text</span><span class="o">&gt;</span><span class="p">)</span>
<span class="nf">GetFontForText</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">text</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">font_type</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Automatic font selection for different languages</span>
<span class="c1">## arabicText would contain Arabic text &quot;marhaba bik&quot;</span>
<span class="nv">fontFile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetFontForText</span><span class="p">(</span><span class="nv">arabicText</span><span class="p">)</span>
<span class="nv">font</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeFont</span><span class="p">(</span><span class="nv">fontFile</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">),</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="nv">label</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeLabel</span><span class="p">(</span><span class="nv">arabicText</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="p">)</span>

<span class="c1">## Select monospace font for code display</span>
<span class="c1">## hebrewCode would contain Hebrew text</span>
<span class="nv">monoFont</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetFontForText</span><span class="p">(</span><span class="nv">hebrewCode</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="c1">## 1 = monospace</span>

<span class="c1">## Select serif font for Thai text</span>
<span class="c1">## thaiText would contain Thai text &quot;sawasdee&quot;</span>
<span class="nv">serifFont</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetFontForText</span><span class="p">(</span><span class="nv">thaiText</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">   </span><span class="c1">## 2 = serif</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#detecttextscript"><code class="xref py py-func docutils literal notranslate"><span class="pre">DetectTextScript()</span></code></a>, <a class="reference internal" href="peblobjects.html#makefont"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeFont()</span></code></a>, <a class="reference internal" href="#isrtl"><code class="xref py py-func docutils literal notranslate"><span class="pre">IsRTL()</span></code></a></p>
</section>
<section id="getsystemlocale">
<span id="index-12"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">GetSystemLocale()</a><a class="headerlink" href="#getsystemlocale" title="Link to this heading">¶</a></h2>
<p><em>Retrieves the operating system’s locale setting</em></p>
<p><strong>Description:</strong></p>
<p>Returns the current system locale as configured in the operating system. The locale string typically follows the format “language_COUNTRY” (e.g., “en_US”, “zh_CN”, “ar_SA”) or may be just a language code (e.g., “ar”, “he”). Returns an empty string if locale detection fails. This is useful for automatically adapting experiment interfaces to the user’s language and regional settings.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">GetSystemLocale</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Detect system locale and adapt interface</span>
<span class="nv">locale</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetSystemLocale</span><span class="p">()</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;System locale: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">locale</span><span class="p">)</span>

<span class="k">if</span><span class="p">(</span><span class="nf">SubString</span><span class="p">(</span><span class="nv">locale</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;ar&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">## Arabic locale detected</span>
<span class="w">    </span><span class="vg">gLanguage</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;ar&quot;</span>
<span class="p">}</span><span class="w"> </span><span class="k">elseif</span><span class="p">(</span><span class="nf">SubString</span><span class="p">(</span><span class="nv">locale</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;he&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">## Hebrew locale detected</span>
<span class="w">    </span><span class="vg">gLanguage</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;he&quot;</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">## Default to English</span>
<span class="w">    </span><span class="vg">gLanguage</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;en&quot;</span>
<span class="p">}</span>

<span class="c1">## Possible outputs: &quot;en_US&quot;, &quot;ar_SA&quot;, &quot;he_IL&quot;, &quot;zh_CN&quot;, &quot;es_MX&quot;, etc.</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#issystemlocalertl"><code class="xref py py-func docutils literal notranslate"><span class="pre">IsSystemLocaleRTL()</span></code></a>, <a class="reference internal" href="#detecttextscript"><code class="xref py py-func docutils literal notranslate"><span class="pre">DetectTextScript()</span></code></a>, <a class="reference internal" href="#getfontfortext"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetFontForText()</span></code></a></p>
</section>
<section id="issystemlocalertl">
<span id="index-13"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">IsSystemLocaleRTL()</a><a class="headerlink" href="#issystemlocalertl" title="Link to this heading">¶</a></h2>
<p><em>Checks if the system locale uses right-to-left text</em></p>
<p><strong>Description:</strong></p>
<p>Determines whether the operating system’s current locale setting is for a right-to-left (RTL) language (Arabic or Hebrew). Returns 1 if the system locale is RTL, 0 if it is LTR. This is particularly useful for setting default text justification and UI layout before any text input occurs, ensuring that the interface matches the user’s language expectations.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">IsSystemLocaleRTL</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Set default text justification based on system locale</span>
<span class="k">if</span><span class="p">(</span><span class="nf">IsSystemLocaleRTL</span><span class="p">())</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">## System is configured for RTL language (Arabic/Hebrew)</span>
<span class="w">    </span><span class="nv">defaultJustify</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;right&quot;</span>
<span class="w">    </span><span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;RTL locale detected&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">## System is configured for LTR language</span>
<span class="w">    </span><span class="nv">defaultJustify</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;left&quot;</span>
<span class="w">    </span><span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;LTR locale detected&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">## Create textbox with appropriate default alignment</span>
<span class="nv">textbox</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeTextBox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="nv">textbox.hjustify</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nv">defaultJustify</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#getsystemlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetSystemLocale()</span></code></a>, <a class="reference internal" href="#isrtl"><code class="xref py py-func docutils literal notranslate"><span class="pre">IsRTL()</span></code></a>, <a class="reference internal" href="#detecttextscript"><code class="xref py py-func docutils literal notranslate"><span class="pre">DetectTextScript()</span></code></a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PEBL Function Reference</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Built-in Namespaces:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="peblenvironment.html">Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="pebllist.html">Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblmath.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblobjects.html">Graphics &amp; Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblstream.html">File &amp; Network</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Strings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library Functions:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility.html">Utility</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Function Index</a></li>
    
    <li class="toctree-l1"><a href="../documentation.html">PEBL Documentation</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="peblstream.html" title="previous chapter">PEBLStream - File and Network I/O</a></li>
      <li>Next: <a href="design.html" title="next chapter">Design Library - Experimental Design</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Shane T. Mueller.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/peblstring.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>