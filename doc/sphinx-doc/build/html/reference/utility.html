<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Utility Library - Helpers and Utilities &#8212; PEBL Function Reference</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=cb25574f" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=4c664190" />
    <script src="../_static/documentation_options.js?v=c4a36953"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="UI Library - User Interface" href="ui.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="utility-library-helpers-and-utilities">
<h1>Utility Library - Helpers and Utilities<a class="headerlink" href="#utility-library-helpers-and-utilities" title="Link to this heading">¶</a></h1>
<p>This library contains utility functions for file operations, data management, and common helper tasks.</p>
<nav class="contents local" id="function-index">
<p class="topic-title">Function Index</p>
<ul class="simple">
<li><p><a class="reference internal" href="#calibratescreen" id="id1">CalibrateScreen()</a></p></li>
<li><p><a class="reference internal" href="#concatenatelist" id="id2">ConcatenateList()</a></p></li>
<li><p><a class="reference internal" href="#convertipstring" id="id3">ConvertIPString()</a></p></li>
<li><p><a class="reference internal" href="#cr" id="id4">CR()</a></p></li>
<li><p><a class="reference internal" href="#dirlisttotext" id="id5">DirlistToText()</a></p></li>
<li><p><a class="reference internal" href="#drawobject" id="id6">DrawObject()</a></p></li>
<li><p><a class="reference internal" href="#easylabel" id="id7">EasyLabel()</a></p></li>
<li><p><a class="reference internal" href="#easytextbox" id="id8">EasyTextBox()</a></p></li>
<li><p><a class="reference internal" href="#endswith" id="id9">EndsWith()</a></p></li>
<li><p><a class="reference internal" href="#enquote" id="id10">Enquote()</a></p></li>
<li><p><a class="reference internal" href="#fetchtext" id="id11">FetchText()</a></p></li>
<li><p><a class="reference internal" href="#fileprintlist" id="id12">FilePrintList()</a></p></li>
<li><p><a class="reference internal" href="#formattext" id="id13">FormatText()</a></p></li>
<li><p><a class="reference internal" href="#geteasychoice" id="id14">GetEasyChoice()</a></p></li>
<li><p><a class="reference internal" href="#geteasyinput" id="id15">GetEasyInput()</a></p></li>
<li><p><a class="reference internal" href="#geteasymultichoice" id="id16">GetEasyMultiChoice()</a></p></li>
<li><p><a class="reference internal" href="#getnewdatafile" id="id17">GetNewDataFile()</a></p></li>
<li><p><a class="reference internal" href="#getnimhdemographics" id="id18">GetNIMHDemographics()</a></p></li>
<li><p><a class="reference internal" href="#getsubnum" id="id19">GetSubNum()</a></p></li>
<li><p><a class="reference internal" href="#gettranslations" id="id20">GetTranslations()</a></p></li>
<li><p><a class="reference internal" href="#initializeupload" id="id21">InitializeUpload()</a></p></li>
<li><p><a class="reference internal" href="#inside" id="id22">Inside()</a></p></li>
<li><p><a class="reference internal" href="#isurl" id="id23">IsURL()</a></p></li>
<li><p><a class="reference internal" href="#jsontext" id="id24">JSONText()</a></p></li>
<li><p><a class="reference internal" href="#likerttrial" id="id25">LikertTrial()</a></p></li>
<li><p><a class="reference internal" href="#listtohumantext" id="id26">ListToHumanText()</a></p></li>
<li><p><a class="reference internal" href="#lookup" id="id27">Lookup()</a></p></li>
<li><p><a class="reference internal" href="#makeparameterobject" id="id28">MakeParameterObject()</a></p></li>
<li><p><a class="reference internal" href="#messagebox" id="id29">MessageBox()</a></p></li>
<li><p><a class="reference internal" href="#movecenter" id="id30">MoveCenter()</a></p></li>
<li><p><a class="reference internal" href="#movecorner" id="id31">MoveCorner()</a></p></li>
<li><p><a class="reference internal" href="#moveobject" id="id32">MoveObject()</a></p></li>
<li><p><a class="reference internal" href="#printlist" id="id33">PrintList()</a></p></li>
<li><p><a class="reference internal" href="#readcsv" id="id34">ReadCSV()</a></p></li>
<li><p><a class="reference internal" href="#readjsonparameters" id="id35">ReadJSONParameters()</a></p></li>
<li><p><a class="reference internal" href="#removeobjects" id="id36">RemoveObjects()</a></p></li>
<li><p><a class="reference internal" href="#replacechar" id="id37">ReplaceChar()</a></p></li>
<li><p><a class="reference internal" href="#splitstringslow" id="id38">SplitStringSlow()</a></p></li>
<li><p><a class="reference internal" href="#stripquotes" id="id39">StripQuotes()</a></p></li>
<li><p><a class="reference internal" href="#stripspace" id="id40">StripSpace()</a></p></li>
<li><p><a class="reference internal" href="#tab" id="id41">Tab()</a></p></li>
<li><p><a class="reference internal" href="#waitforbuttonclickontarget" id="id42">WaitForButtonClickOnTarget()</a></p></li>
<li><p><a class="reference internal" href="#waitforclickontarget" id="id43">WaitForClickOnTarget()</a></p></li>
<li><p><a class="reference internal" href="#waitforclickontargetwithtimeout" id="id44">WaitForClickOnTargetWithTimeout()</a></p></li>
<li><p><a class="reference internal" href="#waitfordownclick" id="id45">WaitForDownClick()</a></p></li>
<li><p><a class="reference internal" href="#yesnotrial" id="id46">YesNoTrial()</a></p></li>
<li><p><a class="reference internal" href="#zeropad" id="id47">ZeroPad()</a></p></li>
<li><p><a class="reference internal" href="#functions-pending-documentation" id="id48">Functions Pending Documentation</a></p></li>
<li><p><a class="reference internal" href="#appenddirlist" id="id49">AppendDirList()</a></p></li>
<li><p><a class="reference internal" href="#createparameters" id="id50">CreateParameters()</a></p></li>
<li><p><a class="reference internal" href="#dirtotext" id="id51">DirToText()</a></p></li>
<li><p><a class="reference internal" href="#getdirectory" id="id52">GetDirectory()</a></p></li>
<li><p><a class="reference internal" href="#getnewsubnum" id="id53">GetNewSubNum()</a></p></li>
<li><p><a class="reference internal" href="#readtranslation" id="id54">ReadTranslation()</a></p></li>
<li><p><a class="reference internal" href="#readtranslationjson" id="id55">ReadTranslationJSON()</a></p></li>
<li><p><a class="reference internal" href="#substitutestrings" id="id56">SubstituteStrings()</a></p></li>
<li><p><a class="reference internal" href="#syncdatafile" id="id57">SyncDataFile()</a></p></li>
<li><p><a class="reference internal" href="#uploadfile" id="id58">UploadFile()</a></p></li>
<li><p><a class="reference internal" href="#clickon" id="id59">ClickOn()</a></p></li>
<li><p><a class="reference internal" href="#countdown" id="id60">Countdown()</a></p></li>
<li><p><a class="reference internal" href="#getinput" id="id61">GetInput()</a></p></li>
</ul>
</nav>
<section id="calibratescreen">
<span id="index-0"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">CalibrateScreen()</a><a class="headerlink" href="#calibratescreen" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Main calibration function
Returns custom object with calibration data</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">CalibrateScreen</span><span class="p">(</span><span class="nv">win</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="concatenatelist">
<span id="index-1"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">ConcatenateList()</a><a class="headerlink" href="#concatenatelist" title="Link to this heading">¶</a></h2>
<p><em>Combines list</em></p>
<p><strong>Description:</strong></p>
<p>Combines a list together to form a single string. Like ListToString but defaults to a separator of “ “ (space).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ConcatenateList</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">ConcatenateList</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">444</span><span class="p">])</span><span class="w">                    </span><span class="c1"># == &quot;1 2 3 444&quot;</span>
<span class="nf">ConcatenateList</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">,</span><span class="s2">&quot;e&quot;</span><span class="p">],</span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="w">      </span><span class="c1"># == &quot;a,b,c,d,e&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<dl class="simple">
<dt><a class="reference internal" href="peblstring.html#substring"><code class="xref py py-func docutils literal notranslate"><span class="pre">SubString()</span></code></a>, <a class="reference internal" href="peblstring.html#stringlength"><code class="xref py py-func docutils literal notranslate"><span class="pre">StringLength()</span></code></a>, <a class="reference internal" href="design.html#foldlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">FoldList()</span></code></a>,</dt><dd><p><a class="reference internal" href="pebllist.html#modlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">ModList()</span></code></a></p>
</dd>
</dl>
</section>
<section id="convertipstring">
<span id="index-2"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">ConvertIPString()</a><a class="headerlink" href="#convertipstring" title="Link to this heading">¶</a></h2>
<p><em>Converts an ip-number-as-string to usable address</em></p>
<p><strong>Description:</strong></p>
<p>Converts an IP address specified as a string into   an integer that can be used by ConnectToIP.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ConvertIPString</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">nim.pbl</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">example</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">two</span><span class="o">-</span><span class="nv">way</span><span class="w"> </span><span class="nv">network</span><span class="w"> </span><span class="nv">connection</span><span class="p">.</span>

<span class="w">  </span><span class="nv">ip</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ConvertIPString</span><span class="p">(</span><span class="s2">&quot;192.168.0.1&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nv">net</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ConnectToHost</span><span class="p">(</span><span class="nv">ip</span><span class="p">,</span><span class="mi">1234</span><span class="p">)</span>
<span class="w">  </span><span class="nv">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetData</span><span class="p">(</span><span class="nv">net</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="w">  </span><span class="nf">Print</span><span class="p">(</span><span class="nv">dat</span><span class="p">)</span>
<span class="w">  </span><span class="nf">CloseNetworkConnection</span><span class="p">(</span><span class="nv">net</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<dl class="simple">
<dt><a class="reference internal" href="peblstream.html#connecttohost"><code class="xref py py-func docutils literal notranslate"><span class="pre">ConnectToHost()</span></code></a>, <a class="reference internal" href="peblstream.html#connecttoip"><code class="xref py py-func docutils literal notranslate"><span class="pre">ConnectToIP()</span></code></a>, <a class="reference internal" href="peblstream.html#getdata"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetData()</span></code></a>, <a class="reference internal" href="peblstream.html#waitfornetworkconnection"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForNetworkConnection()</span></code></a>,</dt><dd><p><a class="reference internal" href="peblstream.html#senddata"><code class="xref py py-func docutils literal notranslate"><span class="pre">SendData()</span></code></a>, <a class="reference internal" href="peblstream.html#closenetworkconnection"><code class="xref py py-func docutils literal notranslate"><span class="pre">CloseNetworkConnection()</span></code></a></p>
</dd>
</dl>
</section>
<section id="cr">
<span id="index-3"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">CR()</a><a class="headerlink" href="#cr" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Produces <code class="docutils literal notranslate"><span class="pre">&lt;number&gt;</span></code> linefeeds which can be added to a   string and printed or saved to a file.  CR is an abbreviation for <code class="docutils literal notranslate"><span class="pre">Carriage</span> <span class="pre">Return</span></code>.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">CR</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Number: &quot;</span><span class="w">  </span><span class="nf">Tab</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">number</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="nf">CR</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;We needed space before this line.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstring.html#format"><code class="xref py py-func docutils literal notranslate"><span class="pre">Format()</span></code></a>, <a class="reference internal" href="#tab"><code class="xref py py-func docutils literal notranslate"><span class="pre">Tab()</span></code></a></p>
</section>
<section id="dirlisttotext">
<span id="index-4"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">DirlistToText()</a><a class="headerlink" href="#dirlisttotext" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>appends a set of nested directories into a path.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">DirlistToText</span><span class="p">(</span><span class="nv">list</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="drawobject">
<span id="index-5"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">DrawObject()</a><a class="headerlink" href="#drawobject" title="Link to this heading">¶</a></h2>
<p><em>Calls the .draw property of an object</em></p>
<p><strong>Description:</strong></p>
<p>Calls the function named by the  .draw property of a custom object.  Useful for handling drawing of a bunch of different objects. This is essentially the same as CallFunction(obj.draw, [obj]), but falls back to a normal Draw() command so it handles built-in objects as well.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">DrawObject</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##This overrides buttons placement at the center:</span>
<span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nf">WaitForClickOnTarget</span><span class="p">([</span><span class="nv">done</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">Clickon</span><span class="p">(</span><span class="nv">done</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>
<span class="nf">DrawObject</span><span class="p">(</span><span class="nv">done</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#inside"><code class="xref py py-func docutils literal notranslate"><span class="pre">Inside()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">ClickOnCheckbox()</span></code>, <a class="reference internal" href="#moveobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveObject()</span></code></a>, <a class="reference internal" href="peblobjects.html#draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">Draw()</span></code></a></p>
</section>
<section id="easylabel">
<span id="index-6"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">EasyLabel()</a><a class="headerlink" href="#easylabel" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Creates and adds to the window location a label   at specified location. Uses standard vera font with grey background.    (May in the future get background color from window).   Easy-to-use replacement for the <code class="docutils literal notranslate"><span class="pre">MakeFont</span></code>,  ~``MakeLabel``,  ~ <code class="docutils literal notranslate"><span class="pre">AddObject</span></code>, ~ <code class="docutils literal notranslate"><span class="pre">Move</span></code>, steps you typically have to go through.    The optional argument fontsize defaults to 16-point.  The optional argument fg specifies a color name (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;red&quot;</span></code>) to use, and style specifies the font style, where 0,1,2,3 = normal, italic, bold, bolditalic.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">win</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">()</span>
<span class="nv">lab</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(</span><span class="s2">&quot;What?&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="nv">win</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nv">lab</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(</span><span class="s2">&quot;What?&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="nv">win</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#easytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyTextBox()</span></code></a>, <a class="reference internal" href="peblobjects.html#makelabel"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeLabel()</span></code></a></p>
</section>
<section id="easytextbox">
<span id="index-7"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">EasyTextBox()</a><a class="headerlink" href="#easytextbox" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Creates and adds to the window location a textbox   at specified location. Uses standard vera font with white background.   Easy-to-use replacement for the MakeFont,MakeTextBox,   AddObject, Move, steps.    The optional arguments fgcolor and bgcolor should specify color names (like white and black).  By default, the textbox is created with a foreground of <code class="docutils literal notranslate"><span class="pre">&quot;black&quot;</span></code> and a background of <code class="docutils literal notranslate"><span class="pre">&quot;white&quot;</span></code>.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">EasyTextBox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">win</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">()</span>
<span class="nv">entry</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyTextBox</span><span class="p">(</span><span class="s2">&quot;1 2 3 4 5&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span>
<span class="w">                      </span><span class="nv">win</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nv">entry</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyTextBox</span><span class="p">(</span><span class="s2">&quot;1 2 3 4 5&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span>
<span class="w">                      </span><span class="nv">win</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#easylabel"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyLabel()</span></code></a>, <a class="reference internal" href="peblobjects.html#maketextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeTextBox()</span></code></a></p>
</section>
<section id="endswith">
<span id="index-8"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">EndsWith()</a><a class="headerlink" href="#endswith" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<section id="parameter-file-handling-supports-both-legacy-csv-and-modern-json-formats">
<h3>Parameter file handling - supports both legacy CSV and modern JSON formats<a class="headerlink" href="#parameter-file-handling-supports-both-legacy-csv-and-modern-json-formats" title="Link to this heading">¶</a></h3>
<p>Helper function: Check if a string ends with a given suffix
Used to detect .json file extensions for parameter files</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">EndsWith</span><span class="p">(</span><span class="nv">string</span><span class="p">,</span><span class="w"> </span><span class="nv">suffix</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="enquote">
<span id="index-9"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Enquote()</a><a class="headerlink" href="#enquote" title="Link to this heading">¶</a></h2>
<p><em>Returns string surrounded by quote marks.</em></p>
<p><strong>Description:</strong></p>
<p>Surrounds the argument with quotes.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">Enquote</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##use to add quoted text to instructions.</span>
<span class="nv">instructions</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;Respond whenever you see an &quot;</span><span class="o">+</span>
<span class="w">                 </span><span class="nf">Enquote</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>

<span class="w"> </span><span class="c1">##Use it for saving data that may have spaces:</span>
<span class="w"> </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="nf">GetInput</span><span class="p">(</span><span class="nv">tb</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&lt;enter&gt;&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="nf">FilePrint</span><span class="p">(</span><span class="nv">fileout</span><span class="p">,</span><span class="w"> </span><span class="nf">Enquote</span><span class="p">(</span><span class="nv">resp</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p>gQuote</p>
</section>
<section id="fetchtext">
<span id="index-10"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">FetchText()</a><a class="headerlink" href="#fetchtext" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Helper function: Fetch text from URL or local file
Handles both <a class="reference external" href="http://">http://</a> URLs and local file paths</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">FetchText</span><span class="p">(</span><span class="nv">source</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="fileprintlist">
<span id="index-11"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">FilePrintList()</a><a class="headerlink" href="#fileprintlist" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Prints a list to a file, without the ‘,’s or []   characters. Puts a carriage return at the end.  Returns a string   that was printed.  If a list contains other lists, the printing will   wrap multiple lines and the internal lists will be printed as   normal.  To avoid this, try FilePrintList(file,Flatten(list)).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">FilePrintList</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">FilePrintList</span><span class="p">(</span><span class="nv">fstream</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="c1">##</span>
<span class="c1">##  Produces:</span>
<span class="c1">##1 2 3 4 5 5 5</span>
<span class="nf">FilePrintList</span><span class="p">(</span><span class="nv">fstream</span><span class="p">,[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="c1">#Produces:</span>
<span class="c1"># [1,2]</span>
<span class="c1">#,[3,4]</span>
<span class="c1">#,[5,6]</span>

<span class="nf">FilePrintList</span><span class="p">(</span><span class="nv">fstream</span><span class="p">,</span><span class="nf">Flatten</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]))</span>
<span class="c1">#Produces:</span>
<span class="c1"># 1 2 3 4 5 6</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstream.html#print"><code class="xref py py-func docutils literal notranslate"><span class="pre">Print()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Print_()</span></code>, <a class="reference internal" href="peblstream.html#fileprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">FilePrint()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">FilePrint_()</span></code>, <a class="reference internal" href="#printlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrintList()</span></code></a>,</p>
</section>
<section id="formattext">
<span id="index-12"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">FormatText()</a><a class="headerlink" href="#formattext" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this works at replacing carriage returns (n) etc. from text</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">FormatText</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="geteasychoice">
<span id="index-13"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">GetEasyChoice()</a><a class="headerlink" href="#geteasychoice" title="Link to this heading">¶</a></h2>
<p><em>Simple multiple choice</em></p>
<p><strong>Description:</strong></p>
<p>Hides what is on the screen and presents a textbox with   specified message, and a series of options to select from. Returns element from corresponding position of the <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;</span></code> list.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetEasyChoice</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">he</span><span class="w"> </span><span class="nv">code</span><span class="w"> </span><span class="nv">snippet</span><span class="w"> </span><span class="nv">below</span><span class="w"> </span><span class="nv">produces</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">screen</span><span class="o">:</span><span class="w"> </span><span class="vg">gWin</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="nv">inp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="nf">GetEasyChoice</span><span class="p">(</span><span class="s2">&quot;What Year are you in school&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">[</span><span class="s2">&quot;First-year&quot;</span><span class="p">,</span><span class="s2">&quot;Sophomore&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="s2">&quot;Junior&quot;</span><span class="p">,</span><span class="s2">&quot;Senior&quot;</span><span class="p">,</span><span class="s2">&quot;Other&quot;</span><span class="p">],</span>
<span class="w">                        </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="w">  </span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#messagebox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MessageBox()</span></code></a>, <a class="reference internal" href="#geteasychoice"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetEasyChoice()</span></code></a>, <a class="reference internal" href="#easytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyTextBox()</span></code></a></p>
</section>
<section id="geteasyinput">
<span id="index-14"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">GetEasyInput()</a><a class="headerlink" href="#geteasyinput" title="Link to this heading">¶</a></h2>
<p><em>Gets typed input based on a prompt.</em></p>
<p><strong>Description:</strong></p>
<p>Hides what is on the screen and presents a textbox with   specified message, and a second text box to enter input.  Continues   when ‘enter’ it hit at the end of text entry.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetEasyInput</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="vg">gWin</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">()</span>
<span class="nv">inp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="nf">GetEasyInput</span><span class="p">(</span><span class="s2">&quot;Enter Participant ID Code&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#messagebox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MessageBox()</span></code></a>, <a class="reference internal" href="#geteasychoice"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetEasyChoice()</span></code></a>, <a class="reference internal" href="#easytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyTextBox()</span></code></a></p>
</section>
<section id="geteasymultichoice">
<span id="index-15"></span><h2><a class="toc-backref" href="#id16" role="doc-backlink">GetEasyMultiChoice()</a><a class="headerlink" href="#geteasymultichoice" title="Link to this heading">¶</a></h2>
<p><em>Simple select-multiple choice</em></p>
<p><strong>Description:</strong></p>
<p>The minchoices and maxchoices gives the range of the number of choices permitted.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetEasyMultiChoice</span><span class="p">(</span><span class="nv">text</span><span class="p">,</span><span class="nv">choices</span><span class="p">,</span><span class="nv">output</span><span class="p">,</span><span class="nv">win</span><span class="p">,</span><span class="nv">minchoices</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">maxchoices</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="getnewdatafile">
<span id="index-16"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">GetNewDataFile()</a><a class="headerlink" href="#getnewdatafile" title="Link to this heading">¶</a></h2>
<p><em>Opens a data file in subnum directory</em></p>
<p><strong>Description:</strong></p>
<p>Creates a data file for output, asking for either append or renumbering the subject code if the specified file is already in use.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetNewDataFile</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">file1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetNewDataFile</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="s2">&quot;memorytest&quot;</span><span class="p">,</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;sub,trial,word,answer,rt,corr&quot;</span><span class="p">)</span>
<span class="c1">##above creates a file data\1\memorytest-1.csv</span>

<span class="w"> </span><span class="nv">file2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetNewDataFile</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="s2">&quot;memorytest&quot;</span><span class="p">,</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;sub,trial,word,answer,rt,corr&quot;</span><span class="p">)</span>
<span class="c1"># above will prompt you for new subject code</span>

<span class="w"> </span><span class="nv">file3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetNewDataFile</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="s2">&quot;memorytest-report&quot;</span><span class="p">,</span><span class="s2">&quot;txt&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="c1">##No header is needed on a text-based report file.</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstream.html#fileopenwrite"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileOpenWrite()</span></code></a>, <a class="reference internal" href="peblstream.html#fileopenappend"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileOpenAppend()</span></code></a>, <a class="reference internal" href="peblstream.html#fileopenoverwrite"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileOpenOverwrite()</span></code></a></p>
</section>
<section id="getnimhdemographics">
<span id="index-17"></span><h2><a class="toc-backref" href="#id18" role="doc-backlink">GetNIMHDemographics()</a><a class="headerlink" href="#getnimhdemographics" title="Link to this heading">¶</a></h2>
<p><em>Asks NIMH-related questions</em></p>
<p><strong>Description:</strong></p>
<p>Gets demographic information that are normally required for NIMH-related research.  Currently are gender (M/F/prefer not to say), ethnicity (Hispanic or not), and race (A.I./Alaskan, Asian/A.A., Hawaiian, black/A.A., white/Caucasian, other).               It then prints their responses in a single line in the demographics file, along with any special code you supply and a time/date stamp. This code might include a subject number, experiment number, or something else, but many informed consent forms assure the subject that this information cannot be tied back to them or their data, so be careful about what you record. The file output will look something like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>----  31,Thu May 12 17:00:35 2011,F,hisp,asian,3331 32,Thu May 12 22:49:10 2011,M,nothisp,amind,3332 ----

     The first column is the user-specified code (in this    case, indicating the experiment number).  The middle columns    indicate date/time, and the last three columns indicate         gender (M, F, other), Hispanic (Y/N), and race.
</pre></div>
</div>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetNIMHDemographics</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">GetNIMHDemographics</span><span class="p">(</span><span class="s2">&quot;x0413&quot;</span><span class="p">,</span><span class="w"> </span><span class="vg">gwindow</span><span class="p">,</span>
<span class="w">                    </span><span class="s2">&quot;x0413-demographics.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="getsubnum">
<span id="index-18"></span><h2><a class="toc-backref" href="#id19" role="doc-backlink">GetSubNum()</a><a class="headerlink" href="#getsubnum" title="Link to this heading">¶</a></h2>
<p><em>Asks user to enter subject number</em></p>
<p><strong>Description:</strong></p>
<p>Creates dialog to ask user to input a subject code</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetSubNum</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">## Put this at the beginning of an experiment,</span>
<span class="c1">## after a window gWin has been defined.</span>
<span class="c1">##</span>
<span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="vg">gSubNum</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="vg">gSubNum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetSubNum</span><span class="p">(</span><span class="vg">gWin</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

N<span class="nv">ote</span><span class="o">:</span><span class="w"> </span><span class="vg">gSubNum</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">also</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">command</span><span class="w"> </span><span class="nv">line</span><span class="p">.</span>
</pre></div>
</div>
</section>
<section id="gettranslations">
<span id="index-19"></span><h2><a class="toc-backref" href="#id20" role="doc-backlink">GetTranslations()</a><a class="headerlink" href="#gettranslations" title="Link to this heading">¶</a></h2>
<p><em>Loads multilingual translations with automatic language fallback</em></p>
<p><strong>Description:</strong></p>
<p>Automatically loads translation strings for experiments from JSON translation files. Implements a three-tier fallback system: (1) uses explicitly specified language if file exists, (2) falls back to system locale language if available, (3) defaults to English if no other translations are found. Normalizes all language codes to lowercase 2-letter codes (e.g., “en”, “es”, “ar”). Returns a custom object with translated strings as properties that can be accessed throughout the experiment.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">GetTranslations</span><span class="p">(</span><span class="nv">testname</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##Load translations with explicit language</span>
<span class="vg">gLanguage</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;es&quot;</span><span class="w">  </span><span class="c1">##Spanish</span>
<span class="vg">gStrings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetTranslations</span><span class="p">(</span><span class="s2">&quot;stroop&quot;</span><span class="p">,</span><span class="w"> </span><span class="vg">gLanguage</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="vg">gStrings.instructions</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>

<span class="c1">##Let it auto-detect from system locale</span>
<span class="vg">gLanguage</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w">  </span><span class="c1">##Empty means use system locale</span>
<span class="vg">gStrings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetTranslations</span><span class="p">(</span><span class="s2">&quot;flanker&quot;</span><span class="p">,</span><span class="w"> </span><span class="vg">gLanguage</span><span class="p">)</span>
<span class="c1">##Will try system language, fall back to English</span>

<span class="c1">##Translation files are expected at:</span>
<span class="c1">##translations/stroop.pbl-es.json</span>
<span class="c1">##translations/stroop.pbl-en.json</span>
<span class="c1">##etc.</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#readtranslationjson"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadTranslationJSON()</span></code></a>, <a class="reference internal" href="#readtranslation"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadTranslation()</span></code></a>, <a class="reference internal" href="peblstring.html#getsystemlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetSystemLocale()</span></code></a>, <a class="reference internal" href="peblstring.html#lowercase"><code class="xref py py-func docutils literal notranslate"><span class="pre">Lowercase()</span></code></a></p>
</section>
<section id="initializeupload">
<span id="index-20"></span><h2><a class="toc-backref" href="#id21" role="doc-backlink">InitializeUpload()</a><a class="headerlink" href="#initializeupload" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<section id="token-based-multi-test-hosting-support">
<h3>Token-based multi-test hosting support<a class="headerlink" href="#token-based-multi-test-hosting-support" title="Link to this heading">¶</a></h3>
<p>Initialize token-based upload configuration for uploading on emscipten branch.</p>
<p>This is only needed on emscripten to set up the virtual file system to store data
in an easy-to-retrieve way.  On native platforms, the Upload</p>
<p>Call this at the start of battery tests that will be hosted online
Reads upload.json (written by JavaScript launcher) and sets up:
- gToken: Study identifier
- gTestName: Test name (e.g., “stroop”, “flanker”)
- gUploadURL: Server endpoint for data upload (not needed here)
- gParticipant: Participant ID
- gDataDirectory: Centralized data path: /data/{token}/{test}/{participant}/
- gUploadSettings: Full configuration object
- gUseUpload: Flag indicating token mode is active</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">InitializeUpload</span><span class="p">(</span><span class="nv">file</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="inside">
<span id="index-21"></span><h2><a class="toc-backref" href="#id22" role="doc-backlink">Inside()</a><a class="headerlink" href="#inside" title="Link to this heading">¶</a></h2>
<p><em>Determines whether a point is inside a graphical object</em></p>
<p><strong>Description:</strong></p>
<p>Determines whether an <code class="docutils literal notranslate"><span class="pre">[x,y]</span></code> point is inside another   object.  Will operate correctly for rectangles, squares, circles,   textboxes, images, and labels. For custom objects having a function name bound to their .inside property, it will use that function to test for insideness. <code class="docutils literal notranslate"><span class="pre">[xylist]</span></code> can be a list containing   [x,y], and if it is longer the other points will be ignored (such as   the list returned by <code class="docutils literal notranslate"><span class="pre">WaitForMouseButton()</span></code>.  Returns 1 if inside, 0   if not inside.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">Inside</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">button</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(</span><span class="s2">&quot;Click me to continue&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>

<span class="nv">continue</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span>
<span class="k">while</span><span class="p">(</span><span class="nv">continue</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="nv">xy</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForMouseButton</span><span class="p">()</span>
<span class="w">   </span><span class="nv">continue</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Inside</span><span class="p">(</span><span class="nv">xy</span><span class="p">,</span><span class="nv">button</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblenvironment.html#waitformousebutton"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForMouseButton()</span></code></a>, <a class="reference internal" href="peblenvironment.html#getmousecursorposition"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetMouseCursorPosition()</span></code></a>, <a class="reference internal" href="ui.html#insidetb"><code class="xref py py-func docutils literal notranslate"><span class="pre">InsideTB()</span></code></a></p>
</section>
<section id="isurl">
<span id="index-22"></span><h2><a class="toc-backref" href="#id23" role="doc-backlink">IsURL()</a><a class="headerlink" href="#isurl" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Helper function: Check if a string is a URL
Used to detect <a class="reference external" href="http://">http://</a> or <a class="reference external" href="https://">https://</a> URLs for remote parameter loading</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">IsURL</span><span class="p">(</span><span class="nv">string</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="jsontext">
<span id="index-23"></span><h2><a class="toc-backref" href="#id24" role="doc-backlink">JSONText()</a><a class="headerlink" href="#jsontext" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this will print the JSON object in a format that can be saved.
It requires an PCustomObject, which is created with ParseJSON() function.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">JSONText</span><span class="p">(</span><span class="nv">obj</span><span class="p">,</span><span class="w"> </span><span class="nv">indent</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="likerttrial">
<span id="index-24"></span><h2><a class="toc-backref" href="#id25" role="doc-backlink">LikertTrial()</a><a class="headerlink" href="#likerttrial" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>These helper functions require gTextBox, gHeader, and gFooter to work.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">LikertTrial</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="listtohumantext">
<span id="index-25"></span><h2><a class="toc-backref" href="#id26" role="doc-backlink">ListToHumanText()</a><a class="headerlink" href="#listtohumantext" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Converts a list of a text listing of options</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ListToHumanText</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">ListToHumanText</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">444</span><span class="p">])</span>

<span class="s2">&quot;1, 2, 3, or 444&quot;</span>

<span class="nf">ListToHumanText</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">,</span><span class="s2">&quot;e&quot;</span><span class="p">],</span><span class="s2">&quot;and&quot;</span><span class="p">)</span>
<span class="s2">&quot;a, b, c, d, and e&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#concatenatelist"><code class="xref py py-func docutils literal notranslate"><span class="pre">ConcatenateList()</span></code></a>, <a class="reference internal" href="#printlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">PrintList()</span></code></a>, <a class="reference internal" href="pebllist.html#listtostring"><code class="xref py py-func docutils literal notranslate"><span class="pre">ListToString()</span></code></a></p>
</section>
<section id="lookup">
<span id="index-26"></span><h2><a class="toc-backref" href="#id27" role="doc-backlink">Lookup()</a><a class="headerlink" href="#lookup" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Returns element in <code class="docutils literal notranslate"><span class="pre">&lt;database&gt;</span></code> corresponding to element of <code class="docutils literal notranslate"><span class="pre">&lt;keylist&gt;</span></code> that matches <code class="docutils literal notranslate"><span class="pre">&lt;key&gt;</span></code>.  If no match exists, Match returns an empty list.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">Lookup</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nv">keys</span><span class="w">     </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="w"> </span><span class="nv">database</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;market&quot;</span><span class="p">,</span><span class="s2">&quot;home&quot;</span><span class="p">,</span><span class="s2">&quot;roast beef&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="s2">&quot;wee wee wee&quot;</span><span class="p">]</span>
<span class="w"> </span><span class="nf">Print</span><span class="p">(</span><span class="nf">Lookup</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="nv">keys</span><span class="p">,</span><span class="nv">database</span><span class="p">)))</span>

<span class="c1">## Or, do something like this:</span>

<span class="nv">data</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot;punky&quot;</span><span class="p">,</span><span class="s2">&quot;brewster&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">&quot;arnold&quot;</span><span class="p">,</span><span class="s2">&quot;jackson&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">&quot;richie&quot;</span><span class="p">,</span><span class="s2">&quot;cunningham&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">&quot;alex&quot;</span><span class="p">,</span><span class="s2">&quot;keaton&quot;</span><span class="p">]]</span>

<span class="nv">d2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Transpose</span><span class="p">(</span><span class="nv">data</span><span class="p">)</span>
<span class="nv">key</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">First</span><span class="p">(</span><span class="nv">data</span><span class="p">)</span>

<span class="nf">Print</span><span class="p">(</span><span class="nf">Lookup</span><span class="p">(</span><span class="s2">&quot;alex&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">data</span><span class="p">))</span>
<span class="c1">##Returns [&quot;alex&quot;,&quot;keaton&quot;]</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="math.html#match"><code class="xref py py-func docutils literal notranslate"><span class="pre">Match()</span></code></a></p>
</section>
<section id="makeparameterobject">
<span id="index-27"></span><h2><a class="toc-backref" href="#id28" role="doc-backlink">MakeParameterObject()</a><a class="headerlink" href="#makeparameterobject" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>This creates an object called ‘parameters’ with
property-value pairs specified by pairs, and
will load duplicate properties into lists.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeParameterObject</span><span class="p">(</span><span class="nv">pairs</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="messagebox">
<span id="index-28"></span><h2><a class="toc-backref" href="#id29" role="doc-backlink">MessageBox()</a><a class="headerlink" href="#messagebox" title="Link to this heading">¶</a></h2>
<p><em>Pops up a message, overtop the entire screen, and waits for a click to continue.</em></p>
<p><strong>Description:</strong></p>
<p>Hides what is on the screen and presents a textbox with   specified message, with a button to click at the bottom to continue.   All arguments after window are optional, but permit changing the size of the text box, (left and right separately), removing the background, and allowing keyboard responses to advance.    By default, if acknowledgement is set to &lt;OK&gt;, the messagebox will continue when the mouse button clicks   an on-screen button labeled OK. If set to a key (e.g., ‘x’), it will continue when that key is pressed.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MessageBox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="vg">gWin</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">()</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="s2">&quot;Click below to begin.&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">)</span>

<span class="w"> </span><span class="nf">MessageBox</span><span class="p">(</span><span class="s2">&quot;this makes a messagebox filling the left side, permitting</span>
<span class="s2"> graphics you might have put on the right to be displayed.&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="vg">gWin</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="vg">gVideoWidth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
<span class="w">            </span><span class="mi">300</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;&lt;OK&gt;&quot;</span><span class="p">)</span>

<span class="w"> </span><span class="nf">MessageBox</span><span class="p">(</span><span class="s2">&quot;This messagebox allows you to continue by hitting the x or z keys&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="vg">gWin</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">1</span><span class="p">,[</span><span class="s2">&quot;X&quot;</span><span class="p">,</span><span class="s2">&quot;Z&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#geteasyinput"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetEasyInput()</span></code></a>, <a class="reference internal" href="#easytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyTextBox()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">PopUpMessageBox()</span></code></p>
</section>
<section id="movecenter">
<span id="index-29"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink">MoveCenter()</a><a class="headerlink" href="#movecenter" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Moves a TextBox to a specified location                 according to its center, instead of its upper left corner.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MoveCenter</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">MoveCenter</span><span class="p">(</span>T<span class="nv">extBox</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblobjects.html#move"><code class="xref py py-func docutils literal notranslate"><span class="pre">Move()</span></code></a>, <a class="reference internal" href="#movecenter"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveCenter()</span></code></a>, <code class="docutils literal notranslate"><span class="pre">.X</span></code> and <code class="docutils literal notranslate"><span class="pre">.Y</span></code> properties</p>
</section>
<section id="movecorner">
<span id="index-30"></span><h2><a class="toc-backref" href="#id31" role="doc-backlink">MoveCorner()</a><a class="headerlink" href="#movecorner" title="Link to this heading">¶</a></h2>
<p><em>Moves an image or label by its upper corner.</em></p>
<p><strong>Description:</strong></p>
<p>Moves a label or image to a specified location          according to its upper left corner, instead of its center.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MoveCorner</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">MoveCorner</span><span class="p">(</span><span class="nv">label</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblobjects.html#move"><code class="xref py py-func docutils literal notranslate"><span class="pre">Move()</span></code></a>, <a class="reference internal" href="#movecenter"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveCenter()</span></code></a>, <code class="docutils literal notranslate"><span class="pre">.X</span></code> and <code class="docutils literal notranslate"><span class="pre">.Y</span></code> properties</p>
</section>
<section id="moveobject">
<span id="index-31"></span><h2><a class="toc-backref" href="#id32" role="doc-backlink">MoveObject()</a><a class="headerlink" href="#moveobject" title="Link to this heading">¶</a></h2>
<p><em>Calls the .move property of an object</em></p>
<p><strong>Description:</strong></p>
<p>Calls the function named by the  .move property of a custom object.  Useful if a custom object has complex parts that need to be moved; you can bind .move to a custom move function and then call it (and anything else) using MoveObject. <code class="docutils literal notranslate"><span class="pre">MoveObject</span></code> will fall back on a normal move, so you can handle movement of many built-in objects with it</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MoveObject</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##This overrides buttons placement at the center:</span>
<span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">done.move</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;MoveCorner&quot;</span>
<span class="nf">MoveObject</span><span class="p">(</span><span class="nv">done</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#inside"><code class="xref py py-func docutils literal notranslate"><span class="pre">Inside()</span></code></a>, <a class="reference internal" href="peblobjects.html#move"><code class="xref py py-func docutils literal notranslate"><span class="pre">Move()</span></code></a>, <a class="reference internal" href="#clickon"><code class="xref py py-func docutils literal notranslate"><span class="pre">ClickOn()</span></code></a>, <a class="reference internal" href="#drawobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawObject()</span></code></a></p>
</section>
<section id="printlist">
<span id="index-32"></span><h2><a class="toc-backref" href="#id33" role="doc-backlink">PrintList()</a><a class="headerlink" href="#printlist" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Prints a list, without the ‘,’s or []   characters. Puts a carriage return at the end.  Returns a string   that was printed.  If a list contains other lists, the printing will   wrap multiple lines and the internal lists will be printed as   normal.  To avoid this, try PrintList(Flatten(list)).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">PrintList</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">PrintList</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="c1">##</span>
<span class="c1">##  Produces:</span>
<span class="c1">##1 2 3 4 5 5 5</span>
<span class="nf">PrintList</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="c1">#Produces:</span>
<span class="c1"># [1,2]</span>
<span class="c1">#,[3,4]</span>
<span class="c1">#,[5,6]</span>

<span class="nf">PrintList</span><span class="p">(</span><span class="nf">Flatten</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]))</span>
<span class="c1">#Produces:</span>
<span class="c1"># 1 2 3 4 5 6</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstream.html#print"><code class="xref py py-func docutils literal notranslate"><span class="pre">Print()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Print_()</span></code>, <a class="reference internal" href="peblstream.html#fileprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">FilePrint()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">FilePrint_()</span></code>, <a class="reference internal" href="#fileprintlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">FilePrintList()</span></code></a>,</p>
</section>
<section id="readcsv">
<span id="index-33"></span><h2><a class="toc-backref" href="#id34" role="doc-backlink">ReadCSV()</a><a class="headerlink" href="#readcsv" title="Link to this heading">¶</a></h2>
<p><em>Opens a csv file returning a table with its elements</em></p>
<p><strong>Description:</strong></p>
<p>Reads a comma-separated  value file into a nested   list.  Need not be named with a .csv extension.  It should properly   strip quotes from cells, and not break entries on commas embedded   within quoted text.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ReadCSV</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">table</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ReadCSV</span><span class="p">(</span><span class="s2">&quot;datafile.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstream.html#filereadtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileReadTable()</span></code></a>, <a class="reference internal" href="peblstream.html#filereadlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileReadList()</span></code></a>, <a class="reference internal" href="#stripquotes"><code class="xref py py-func docutils literal notranslate"><span class="pre">StripQuotes()</span></code></a></p>
</section>
<section id="readjsonparameters">
<span id="index-34"></span><h2><a class="toc-backref" href="#id35" role="doc-backlink">ReadJSONParameters()</a><a class="headerlink" href="#readjsonparameters" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Read JSON parameter file and convert to parameter object
JSON format: simple key-value pairs, e.g., {“dopractice”: 1, “isi”: 1000}
Returns a custom object with parameters as properties
Supports both local files and URLs (<a class="reference external" href="http://">http://</a> or <a class="reference external" href="https://">https://</a>)
Returns empty parameter object if fetch/parse fails (allows fallback to defaults)</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ReadJSONParameters</span><span class="p">(</span><span class="nv">filename</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="removeobjects">
<span id="index-35"></span><h2><a class="toc-backref" href="#id36" role="doc-backlink">RemoveObjects()</a><a class="headerlink" href="#removeobjects" title="Link to this heading">¶</a></h2>
<p><em>Removes a (possibly nested) list of objects from a parent window</em></p>
<p><strong>Description:</strong></p>
<p>This is a recursive removeobjects</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">RemoveObjects</span><span class="p">(</span><span class="nv">list</span><span class="p">,</span><span class="nv">win</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="replacechar">
<span id="index-36"></span><h2><a class="toc-backref" href="#id37" role="doc-backlink">ReplaceChar()</a><a class="headerlink" href="#replacechar" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Substitutes  <code class="docutils literal notranslate"><span class="pre">&lt;char2&gt;</span></code> for <code class="docutils literal notranslate"><span class="pre">&lt;char&gt;</span></code>   in <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>. Useful for saving subject entry data in a file;   replacing spaces with some other character.  The second argument can either be a character to match, or a list of characters to match, in which case they all get replaced with the third argument.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ReplaceChar</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Sing a song of sixpence&quot;</span><span class="p">]</span>
<span class="nv">rep</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ReplaceChar</span><span class="p">(</span><span class="nv">x</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">rep</span><span class="p">)</span>
<span class="c1"># Result:  Sing_a_song_of_sixpence</span>

<span class="nv">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sing a song of sixpence&quot;</span><span class="p">]</span>
<span class="nv">rep</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ReplaceChar</span><span class="p">(</span><span class="nv">x</span><span class="p">,[</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">],</span><span class="w"> </span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">rep</span><span class="p">)</span>
<span class="c1"># Result:  ping a pong of pippence</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p>for list items: <a class="reference internal" href="design.html#replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">Replace()</span></code></a> , <a class="reference internal" href="peblstring.html#splitstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">SplitString()</span></code></a>,</p>
</section>
<section id="splitstringslow">
<span id="index-37"></span><h2><a class="toc-backref" href="#id38" role="doc-backlink">SplitStringSlow()</a><a class="headerlink" href="#splitstringslow" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Splits a string into tokens. <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> must be a string. If           <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> is not found in <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>, a list containing the entire                  string is returned; if split is equal to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>, the each letter                in the string is placed into a different item in the list.  The entire text of <code class="docutils literal notranslate"><span class="pre">&lt;split&gt;</span></code> is used to tokenize, but as a consequence this function is relatively slow, and should be avoided if your string is longer than a few hundred characters.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SplitStringSlow</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SplitStringSlow</span><span class="p">(</span><span class="s2">&quot;Everybody Loves a Clown&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="c1"># Produces [&quot;Everybody&quot;, &quot;Loves&quot;, &quot;a&quot;, &quot;Clown&quot;]</span>
<span class="nf">SplitStringSlow</span><span class="p">(</span><span class="s2">&quot;she sells seashells&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ll&quot;</span><span class="p">)</span>
<span class="c1">#produces [&quot;she se&quot;,&quot;s seashe&quot;, &quot;s&quot;]</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Splitstring()</span></code>           <a class="reference internal" href="peblstring.html#findinstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">FindInString()</span></code></a>, <a class="reference internal" href="#replacechar"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReplaceChar()</span></code></a></p>
</section>
<section id="stripquotes">
<span id="index-38"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">StripQuotes()</a><a class="headerlink" href="#stripquotes" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Strips quotation marks from the outside of a   string.  Useful if you are reading in data that is quoted.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">StripQuotes</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="vg">gQuote</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;abcd&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">gQuote</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">StripQuotes</span><span class="p">(</span><span class="nv">text</span><span class="p">))</span><span class="w">  </span><span class="c1">## abcd</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">StripQuotes</span><span class="p">(</span><span class="s2">&quot;aaa&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">##aaa</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#stripspace"><code class="xref py py-func docutils literal notranslate"><span class="pre">StripSpace()</span></code></a></p>
</section>
<section id="stripspace">
<span id="index-39"></span><h2><a class="toc-backref" href="#id40" role="doc-backlink">StripSpace()</a><a class="headerlink" href="#stripspace" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Strips spaces from the start and end of a   string.  Useful for cleaning up input and such.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">StripSpace</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">  </span><span class="s2">&quot; abcd  &quot;</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">StripSpace</span><span class="p">(</span><span class="nv">text</span><span class="p">))</span><span class="w">  </span><span class="c1">## &#39;abcd&#39;</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">StripSpace</span><span class="p">(</span><span class="s2">&quot;aaa&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">## &#39;aaa&#39;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#stripquotes"><code class="xref py py-func docutils literal notranslate"><span class="pre">StripQuotes()</span></code></a></p>
</section>
<section id="tab">
<span id="index-40"></span><h2><a class="toc-backref" href="#id41" role="doc-backlink">Tab()</a><a class="headerlink" href="#tab" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Produces a tab character which can be added to a   string. If displayed in a text box, it will use a 4-item tab stop.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">Tab</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Number: &quot;</span><span class="w">  </span><span class="nf">Tab</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Value: &quot;</span><span class="w">  </span><span class="nf">Tab</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Size: &quot;</span><span class="w">  </span><span class="nf">Tab</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">size</span><span class="w"> </span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstring.html#format"><code class="xref py py-func docutils literal notranslate"><span class="pre">Format()</span></code></a>, <a class="reference internal" href="#cr"><code class="xref py py-func docutils literal notranslate"><span class="pre">CR()</span></code></a></p>
</section>
<section id="waitforbuttonclickontarget">
<span id="index-41"></span><h2><a class="toc-backref" href="#id42" role="doc-backlink">WaitForButtonClickOnTarget()</a><a class="headerlink" href="#waitforbuttonclickontarget" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>targetlist is a set of graphical objects,
keylist is a set of keys whose corresponding
value should be returned when a graphical object is clicked upon.
This modifies the built-in waitforclickontarget so that it will
Return the button that is clicked, along with the target,
and the target object</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">WaitForButtonClickOnTarget</span><span class="p">(</span><span class="nv">targetlist</span><span class="p">,</span><span class="nv">keylist</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="waitforclickontarget">
<span id="index-42"></span><h2><a class="toc-backref" href="#id43" role="doc-backlink">WaitForClickOnTarget()</a><a class="headerlink" href="#waitforclickontarget" title="Link to this heading">¶</a></h2>
<p><em>Waits until any of a set of target objects are clicked.</em></p>
<p><strong>Description:</strong></p>
<p>Allows you to specify a list of graphical objects in <code class="docutils literal notranslate"><span class="pre">&lt;objectlist&gt;</span></code> and awaits a click   on any one of them, returning the corresponding key in &lt;keylist&gt;.  Also, sets the    global variable gClick which saves the location of the click, if    you need it for something else.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nv">objs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[]</span>
<span class="k">loop</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="nv">resp</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="nv">tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(</span><span class="nv">i</span><span class="w"> </span><span class="o">+</span><span class="s2">&quot;. &quot;</span><span class="p">,</span>
<span class="w">           </span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="o">*</span><span class="nv">i</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span>
<span class="w">  </span><span class="nv">objs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Append</span><span class="p">(</span><span class="nv">objs</span><span class="p">,</span><span class="w"> </span><span class="nv">tmp</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nv">click</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">(</span><span class="nv">objs</span><span class="p">,</span><span class="nv">resp</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;You clicked on &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">click</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Click location: [&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">First</span><span class="p">(</span><span class="vg">gClick</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s2">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">Second</span><span class="p">(</span><span class="vg">gClick</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="waitforclickontargetwithtimeout">
<span id="index-43"></span><h2><a class="toc-backref" href="#id44" role="doc-backlink">WaitForClickOnTargetWithTimeout()</a><a class="headerlink" href="#waitforclickontargetwithtimeout" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Allows you to specify a list of graphical objects in <code class="docutils literal notranslate"><span class="pre">&lt;objectlist&gt;</span></code> and awaits a click   on any one of them, returning the corresponding key in <code class="docutils literal notranslate"><span class="pre">&lt;keylist&gt;</span></code>.  Also, sets the    global variable gClick which saves the location of the click, if    you need it for something else.  The function will return after the specified time limit.    If no response is made by timeout, the text &lt;timeout&gt; will be returned (instead of the corresponding keylist element), and gClick will be set to [-1, -1].  This function can also be useful to dynamically update some visual object while waiting for a response.  Give timeout some small number (below 50 ms, as low as 1-5), and loop over this repeatedly until a ‘proper’ response is given, redrawing a timer or other dynamic visual element each time.  By default, this will only activate when a normal (left-click) is made on button 1.  However, the three optional arguments button1, button2, and button3 permit waiting for any or all left, right, or center buttons.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">WaitForClickOnTargetWithTimeout</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nv">objs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[]</span>
<span class="k">loop</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="nv">resp</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="nv">tmp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">EasyLabel</span><span class="p">(</span><span class="nv">i</span><span class="w"> </span><span class="o">+</span><span class="s2">&quot;. &quot;</span><span class="p">,</span>
<span class="w">           </span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="o">*</span><span class="nv">i</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span>
<span class="w">  </span><span class="nv">objs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Append</span><span class="p">(</span><span class="nv">objs</span><span class="p">,</span><span class="w"> </span><span class="nv">tmp</span><span class="p">)</span>
<span class="p">}</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nv">click</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTargetWithTimeout</span><span class="p">(</span><span class="nv">objs</span><span class="p">,</span><span class="nv">resp</span><span class="p">,</span><span class="mi">3000</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;You clicked on &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">click</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Click location: [&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">First</span><span class="p">(</span><span class="vg">gClick</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s2">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">Second</span><span class="p">(</span><span class="vg">gClick</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;]&quot;</span><span class="p">)</span>

<span class="c1">##wait for a center-click.</span>
<span class="nv">click</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTargetWithTimeout</span><span class="p">(</span><span class="nv">objs</span><span class="p">,</span><span class="nv">resp</span><span class="p">,</span><span class="mi">3000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#waitfordownclick"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForDownClick()</span></code></a>, <a class="reference internal" href="peblenvironment.html#waitformousebutton"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForMouseButton()</span></code></a></p>
</section>
<section id="waitfordownclick">
<span id="index-44"></span><h2><a class="toc-backref" href="#id45" role="doc-backlink">WaitForDownClick()</a><a class="headerlink" href="#waitfordownclick" title="Link to this heading">¶</a></h2>
<p><em>Waits for mouse button to be clicked</em></p>
<p><strong>Description:</strong></p>
<p>Will wait until the mouse button is clicked down.  Returns   the same 4-tuple as <code class="docutils literal notranslate"><span class="pre">WaitForMouseButton:</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> [xpos,    ypos,     button id [1-3],     &quot;&lt;pressed&gt;&quot; or &quot;&lt;released&gt;&quot;]

but the last element will always be ``&lt;pressed&gt;``.  Useful as a &#39;click mouse to continue&#39; probe.
</pre></div>
</div>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">WaitForDownClick</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForDownClick</span><span class="p">()</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Click location: [&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">First</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="s2">&quot;, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">Second</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#waitforclickontarget"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForClickOnTarget()</span></code></a>, <a class="reference internal" href="peblenvironment.html#waitformousebutton"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaitForMouseButton()</span></code></a></p>
</section>
<section id="yesnotrial">
<span id="index-45"></span><h2><a class="toc-backref" href="#id46" role="doc-backlink">YesNoTrial()</a><a class="headerlink" href="#yesnotrial" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>These helper functions require gTextBox, gHeader, and gFooter to work.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">YesNoTrial</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="zeropad">
<span id="index-46"></span><h2><a class="toc-backref" href="#id47" role="doc-backlink">ZeroPad()</a><a class="headerlink" href="#zeropad" title="Link to this heading">¶</a></h2>
<p><em>Pads the beginning of a number with 0s so the number is size long</em></p>
<p><strong>Description:</strong></p>
<p>Takes a number and pads it with zeroes left of the   decimal point so that its length is equal to &lt;size&gt;. Argument must   be a positive integer and less than ten digits.  Returns a string.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ZeroPad</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Print</span><span class="p">(</span><span class="nf">ZeroPad</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span><span class="w">     </span><span class="c1"># &quot;00033&quot;</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">ZeroPad</span><span class="p">(</span><span class="mi">123456</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span><span class="w"> </span><span class="c1">#&quot;123456&quot;</span>
<span class="nf">Print</span><span class="p">(</span><span class="nf">ZeroPad</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span><span class="w">      </span><span class="c1">#&quot;00000001&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstring.html#format"><code class="xref py py-func docutils literal notranslate"><span class="pre">Format()</span></code></a></p>
</section>
<section id="functions-pending-documentation">
<h2><a class="toc-backref" href="#id48" role="doc-backlink">Functions Pending Documentation</a><a class="headerlink" href="#functions-pending-documentation" title="Link to this heading">¶</a></h2>
</section>
<section id="appenddirlist">
<span id="index-47"></span><h2><a class="toc-backref" href="#id49" role="doc-backlink">AppendDirList()</a><a class="headerlink" href="#appenddirlist" title="Link to this heading">¶</a></h2>
<p><em>Manages a list of directories for path navigation</em></p>
<p><strong>Description:</strong></p>
<p>Appends a directory to a directory list, handling special directory names like “.” (current directory) and “..” (parent directory). When “..” is encountered, it removes the last directory from the list (going up one level). When “.” is encountered, the list remains unchanged. Regular directory names are simply appended. Useful for building and navigating directory paths dynamically.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirlist</span><span class="p">,</span><span class="w"> </span><span class="nv">dir</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build a directory path dynamically</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[]</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="p">)</span><span class="w">      </span><span class="c1"># [&quot;data&quot;]</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;exp1&quot;</span><span class="p">)</span><span class="w">      </span><span class="c1"># [&quot;data&quot;, &quot;exp1&quot;]</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;results&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1"># [&quot;data&quot;, &quot;exp1&quot;, &quot;results&quot;]</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;..&quot;</span><span class="p">)</span><span class="w">        </span><span class="c1"># [&quot;data&quot;, &quot;exp1&quot;] (go up)</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;analysis&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1"># [&quot;data&quot;, &quot;exp1&quot;, &quot;analysis&quot;]</span>

<span class="c1"># Current directory is ignored</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AppendDirList</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="w">         </span><span class="c1"># [&quot;data&quot;, &quot;exp1&quot;, &quot;analysis&quot;] (unchanged)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#dirtotext"><code class="xref py py-func docutils literal notranslate"><span class="pre">DirToText()</span></code></a>, <a class="reference internal" href="#getdirectory"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetDirectory()</span></code></a>, <a class="reference internal" href="peblenvironment.html#getdirectorylisting"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetDirectoryListing()</span></code></a></p>
</section>
<section id="createparameters">
<span id="index-48"></span><h2><a class="toc-backref" href="#id50" role="doc-backlink">CreateParameters()</a><a class="headerlink" href="#createparameters" title="Link to this heading">¶</a></h2>
<p><em>Creates a parameter object from defaults and an optional parameter file</em></p>
<p><strong>Description:</strong></p>
<p>Creates a parameter object by combining default values with parameters from a file. Supports both legacy CSV format (.par) and modern JSON format (.par.json). Can load parameters from local files or remote URLs (<a class="reference external" href="http://">http://</a> or <a class="reference external" href="https://">https://</a>). If the file doesn’t exist or a URL cannot be fetched, only the defaults are used. Parameters from the file override defaults.</p>
<p>The function auto-detects file format based on extension: .json files (and all URLs) use JSON format, while .par files use legacy CSV format.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">CreateParameters</span><span class="p">(</span><span class="nv">defaults</span><span class="p">,</span><span class="w"> </span><span class="nv">file</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create parameters with defaults and local file</span>
<span class="nv">defaults</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot;trials&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;isi&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;practice&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]]</span>
<span class="nv">pars</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">CreateParameters</span><span class="p">(</span><span class="nv">defaults</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;config.par.json&quot;</span><span class="p">)</span>

<span class="c1"># Now pars.trials, pars.isi, pars.practice are available</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Running &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">pars.trials</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot; trials&quot;</span><span class="p">)</span>

<span class="c1"># Load from URL (uses JSON format automatically)</span>
<span class="nv">pars</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">CreateParameters</span><span class="p">(</span><span class="nv">defaults</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;https://example.com/params.json&quot;</span><span class="p">)</span>

<span class="c1"># If file doesn&#39;t exist, defaults are used</span>
<span class="nv">pars</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">CreateParameters</span><span class="p">(</span><span class="nv">defaults</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;nonexistent.json&quot;</span><span class="p">)</span>
<span class="c1"># pars still has default values</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#readjsonparameters"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadJSONParameters()</span></code></a>, <a class="reference internal" href="#makeparameterobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeParameterObject()</span></code></a>, <a class="reference internal" href="#readcsv"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadCSV()</span></code></a></p>
</section>
<section id="dirtotext">
<span id="index-49"></span><h2><a class="toc-backref" href="#id51" role="doc-backlink">DirToText()</a><a class="headerlink" href="#dirtotext" title="Link to this heading">¶</a></h2>
<p><em>Converts directory and file lists into path strings</em></p>
<p><strong>Description:</strong></p>
<p>Combines a list of directories and a list of filenames into complete path strings. Prepends directory names with backslashes and merges them with the filelist. This is a helper function for path manipulation when working with directory structures.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">DirToText</span><span class="p">(</span><span class="nv">dirlist</span><span class="p">,</span><span class="w"> </span><span class="nv">filelist</span><span class="p">,</span><span class="w"> </span><span class="nv">path</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Combine directory components with files</span>
<span class="nv">dirs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;experiment1&quot;</span><span class="p">]</span>
<span class="nv">files</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;trial01.csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;trial02.csv&quot;</span><span class="p">]</span>
<span class="nv">paths</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">DirToText</span><span class="p">(</span><span class="nv">dirs</span><span class="p">,</span><span class="w"> </span><span class="nv">files</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Results in paths with directory prefixes</span>
<span class="k">loop</span><span class="p">(</span><span class="nv">p</span><span class="p">,</span><span class="w"> </span><span class="nv">paths</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="nf">Print</span><span class="p">(</span><span class="nv">p</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#appenddirlist"><code class="xref py py-func docutils literal notranslate"><span class="pre">AppendDirList()</span></code></a>, <a class="reference internal" href="#getdirectory"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetDirectory()</span></code></a>, <a class="reference internal" href="peblenvironment.html#getdirectorylisting"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetDirectoryListing()</span></code></a></p>
</section>
<section id="getdirectory">
<span id="index-50"></span><h2><a class="toc-backref" href="#id52" role="doc-backlink">GetDirectory()</a><a class="headerlink" href="#getdirectory" title="Link to this heading">¶</a></h2>
<p><em>Extracts the directory path from a file path</em></p>
<p><strong>Description:</strong></p>
<p>Extracts and returns the directory portion of a file path, including the trailing separator. The function automatically detects the appropriate separator based on the platform (backslash for Windows, forward slash for Unix/Linux/Mac). Returns all but the last component (the filename). Useful for getting the parent directory of a file or for constructing new file paths in the same directory.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetDirectory</span><span class="p">(</span><span class="nv">filepath</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract directory from file path</span>
<span class="nv">dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetDirectory</span><span class="p">(</span><span class="s2">&quot;data/experiment/results.csv&quot;</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">dir</span><span class="p">)</span>
<span class="c1"># Result: &quot;data/experiment/&quot; (on Unix/Linux/Mac)</span>

<span class="c1"># Works automatically on Windows too</span>
<span class="nv">dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetDirectory</span><span class="p">(</span><span class="s2">&quot;C:\Users\Lab\data\subject01.txt&quot;</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">dir</span><span class="p">)</span>
<span class="c1"># Result: &quot;C:\Users\Lab\data\&quot; (on Windows)</span>

<span class="c1"># Use with other path operations</span>
<span class="nv">filepath</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;results/trial-data.csv&quot;</span>
<span class="nv">directory</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetDirectory</span><span class="p">(</span><span class="nv">filepath</span><span class="p">)</span>
<span class="nv">newfile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;summary-data.csv&quot;</span>
<span class="c1"># newfile is &quot;results/summary-data.csv&quot;</span>

<span class="c1"># Common use case: creating pooled data files</span>
<span class="nv">fileOut</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetNewDataFile</span><span class="p">(</span><span class="vg">gSubnum</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
<span class="nv">dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetDirectory</span><span class="p">(</span><span class="nv">fileOut.filename</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;../&quot;</span>
<span class="nv">pooledFile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">FileOpenAppend</span><span class="p">(</span><span class="nv">dir</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;pooled-results.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblenvironment.html#getworkingdirectory"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetWorkingDirectory()</span></code></a>, <a class="reference internal" href="peblenvironment.html#fileexists"><code class="xref py py-func docutils literal notranslate"><span class="pre">FileExists()</span></code></a>, <a class="reference internal" href="#dirtotext"><code class="xref py py-func docutils literal notranslate"><span class="pre">DirToText()</span></code></a></p>
</section>
<section id="getnewsubnum">
<span id="index-51"></span><h2><a class="toc-backref" href="#id53" role="doc-backlink">GetNewSubNum()</a><a class="headerlink" href="#getnewsubnum" title="Link to this heading">¶</a></h2>
<p><em>Requests a new subject number from a remote server</em></p>
<p><strong>Description:</strong></p>
<p>Connects to a remote PEBL data server to request and receive a new unique subject number for data collection. The server maintains a counter and returns sequential subject codes. If the server connection fails, a random 6-digit number is returned as a fallback. Used in labs or online studies where centralized subject numbering is needed across multiple testing stations or sessions.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetNewSubNum</span><span class="p">(</span><span class="nv">server</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">,</span><span class="w"> </span><span class="nv">username</span><span class="p">,</span><span class="w"> </span><span class="nv">pword</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get new subject number from server</span>
<span class="nv">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;data.mylab.edu&quot;</span>
<span class="nv">page</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;get_subject_id.php&quot;</span>
<span class="nv">port</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">80</span>
<span class="nv">username</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;labuser&quot;</span>
<span class="nv">password</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;secure_password&quot;</span>

<span class="vg">gSubNum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">GetNewSubNum</span><span class="p">(</span><span class="nv">server</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">,</span><span class="w"> </span><span class="nv">username</span><span class="p">,</span><span class="w"> </span><span class="nv">password</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Assigned subject number: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">gSubNum</span><span class="p">)</span>

<span class="c1"># Use subject number for data files</span>
<span class="nv">datafile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">FileOpenWrite</span><span class="p">(</span><span class="s2">&quot;data/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">gSubNum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/results.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#getsubnum"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetSubNum()</span></code></a>, <a class="reference internal" href="#uploadfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">UploadFile()</span></code></a>, <a class="reference internal" href="#syncdatafile"><code class="xref py py-func docutils literal notranslate"><span class="pre">SyncDataFile()</span></code></a></p>
</section>
<section id="readtranslation">
<span id="index-52"></span><h2><a class="toc-backref" href="#id54" role="doc-backlink">ReadTranslation()</a><a class="headerlink" href="#readtranslation" title="Link to this heading">¶</a></h2>
<p><em>Loads multilingual text from a CSV translation file</em></p>
<p><strong>Description:</strong></p>
<p>Reads a CSV-format translation file containing text strings in multiple languages. Creates a custom object with text strings as properties that can be accessed in experiments. Useful for creating experiments that can be presented in different languages. The CSV file should have text keys in the first column and translated text in subsequent columns. Line breaks (\n) in the file are converted to actual carriage returns.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ReadTranslation</span><span class="p">(</span><span class="nv">filename</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load English translations from CSV file</span>
<span class="c1"># translations.csv contains:</span>
<span class="c1"># welcome,Welcome to the experiment</span>
<span class="c1"># instructions,Please press any key to begin</span>
<span class="c1"># thanks,Thank you for participating</span>

<span class="nv">trans</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ReadTranslation</span><span class="p">(</span><span class="s2">&quot;translations-en.csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.welcome</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.instructions</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>

<span class="c1"># Run experiment...</span>

<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.thanks</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#readtranslationjson"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadTranslationJSON()</span></code></a>, <a class="reference internal" href="#readcsv"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadCSV()</span></code></a>, <a class="reference internal" href="#formattext"><code class="xref py py-func docutils literal notranslate"><span class="pre">FormatText()</span></code></a></p>
</section>
<section id="readtranslationjson">
<span id="index-53"></span><h2><a class="toc-backref" href="#id55" role="doc-backlink">ReadTranslationJSON()</a><a class="headerlink" href="#readtranslationjson" title="Link to this heading">¶</a></h2>
<p><em>Loads multilingual text from a JSON translation file</em></p>
<p><strong>Description:</strong></p>
<p>Reads a JSON-format translation file containing text strings in multiple languages. Creates a custom object with text strings as properties that can be accessed in experiments. This is the modern alternative to <code class="docutils literal notranslate"><span class="pre">ReadTranslation()</span></code> with better support for complex text and special characters. The JSON file should contain key-value pairs where keys are text identifiers and values are the translated strings. Line breaks (\n) in the JSON are converted to actual carriage returns.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ReadTranslationJSON</span><span class="p">(</span><span class="nv">filename</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load English translations from JSON file</span>
<span class="c1"># translations-en.json contains:</span>
<span class="c1"># {</span>
<span class="c1">#   &quot;welcome&quot;: &quot;Welcome to the experiment&quot;,</span>
<span class="c1">#   &quot;instructions&quot;: &quot;Please press any key to begin&quot;,</span>
<span class="c1">#   &quot;thanks&quot;: &quot;Thank you for participating&quot;</span>
<span class="c1"># }</span>

<span class="nv">trans</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">ReadTranslationJSON</span><span class="p">(</span><span class="s2">&quot;translations-en.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.welcome</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.instructions</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>

<span class="c1"># Run experiment...</span>

<span class="nf">MessageBox</span><span class="p">(</span><span class="nv">trans.thanks</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#readtranslation"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReadTranslation()</span></code></a>, <a class="reference internal" href="peblstream.html#parsejson"><code class="xref py py-func docutils literal notranslate"><span class="pre">ParseJSON()</span></code></a>, <a class="reference internal" href="#formattext"><code class="xref py py-func docutils literal notranslate"><span class="pre">FormatText()</span></code></a></p>
</section>
<section id="substitutestrings">
<span id="index-54"></span><h2><a class="toc-backref" href="#id56" role="doc-backlink">SubstituteStrings()</a><a class="headerlink" href="#substitutestrings" title="Link to this heading">¶</a></h2>
<p><em>Makes multiple substitutions in text</em></p>
<p><strong>Description:</strong></p>
<p>Performs multiple character substitutions in a text string. Takes a list of replacement pairs and applies each one sequentially using <code class="docutils literal notranslate"><span class="pre">ReplaceChar()</span></code>. Useful for cleaning up text, converting special characters, or applying multiple text transformations at once.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SubstituteStrings</span><span class="p">(</span><span class="nv">text</span><span class="p">,</span><span class="w"> </span><span class="nv">replist</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace multiple characters for file-safe names</span>
<span class="nv">text</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;Subject: John Doe (Test #1)&quot;</span>
<span class="nv">replacements</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;(&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;[&quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;]&quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;#&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;num&quot;</span><span class="p">]]</span>
<span class="nv">cleaned</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">SubstituteStrings</span><span class="p">(</span><span class="nv">text</span><span class="p">,</span><span class="w"> </span><span class="nv">replacements</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">cleaned</span><span class="p">)</span>
<span class="c1"># Result: &quot;Subject-_John_Doe_[Test_num1]&quot;</span>

<span class="c1"># Convert special characters in user input</span>
<span class="nv">userInput</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;Hello\nWorld!&quot;</span>
<span class="nv">subs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[[</span><span class="s2">&quot;\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;!&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">]]</span>
<span class="nv">formatted</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">SubstituteStrings</span><span class="p">(</span><span class="nv">userInput</span><span class="p">,</span><span class="w"> </span><span class="nv">subs</span><span class="p">)</span>
<span class="nf">Print</span><span class="p">(</span><span class="nv">formatted</span><span class="p">)</span>
<span class="c1"># Result: &quot;Hello World.&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#replacechar"><code class="xref py py-func docutils literal notranslate"><span class="pre">ReplaceChar()</span></code></a>, <a class="reference internal" href="design.html#replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">Replace()</span></code></a></p>
</section>
<section id="syncdatafile">
<span id="index-55"></span><h2><a class="toc-backref" href="#id57" role="doc-backlink">SyncDataFile()</a><a class="headerlink" href="#syncdatafile" title="Link to this heading">¶</a></h2>
<p><em>Synchronizes a data file with a remote server using HTTP POST</em></p>
<p><strong>Description:</strong></p>
<p>Uploads a data file to a remote server using HTTP POST with multipart/form-data encoding. Sends authentication credentials, task name, subject code, and optional authorization token along with the file contents. Used for real-time data synchronization during experiments or for batch uploads to a PEBL data collection server. Returns the server’s HTTP response.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SyncDataFile</span><span class="p">(</span><span class="nv">server</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">,</span><span class="w"> </span><span class="nv">username</span><span class="p">,</span><span class="w"> </span><span class="nv">pword</span><span class="p">,</span><span class="w"> </span><span class="nv">taskname</span><span class="p">,</span><span class="w"> </span><span class="nv">subcode</span><span class="p">,</span><span class="w"> </span><span class="nv">datafilename</span><span class="p">,</span><span class="w"> </span><span class="nv">token</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sync data file to server after each trial block</span>
<span class="nv">server</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;data.mylab.edu&quot;</span>
<span class="nv">page</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;sync_data.php&quot;</span>
<span class="nv">port</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">80</span>
<span class="nv">username</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;labuser&quot;</span>
<span class="nv">password</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;secure_password&quot;</span>
<span class="nv">taskname</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;stroop_task&quot;</span>
<span class="nv">subcode</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="vg">gSubNum</span>
<span class="nv">datafile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;data/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">subcode</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/block1.csv&quot;</span>

<span class="nv">response</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">SyncDataFile</span><span class="p">(</span><span class="nv">server</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">,</span><span class="w"> </span><span class="nv">username</span><span class="p">,</span>
<span class="w">                         </span><span class="nv">password</span><span class="p">,</span><span class="w"> </span><span class="nv">taskname</span><span class="p">,</span><span class="w"> </span><span class="nv">subcode</span><span class="p">,</span><span class="w"> </span><span class="nv">datafile</span><span class="p">)</span>

<span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;Server response: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">First</span><span class="p">(</span><span class="nv">response</span><span class="p">))</span>

<span class="c1"># With authorization token for secure studies</span>
<span class="nv">token</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;study_auth_token_12345&quot;</span>
<span class="nv">response</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">SyncDataFile</span><span class="p">(</span><span class="nv">server</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">,</span><span class="w"> </span><span class="nv">username</span><span class="p">,</span><span class="w"> </span><span class="nv">password</span><span class="p">,</span>
<span class="w">                         </span><span class="nv">taskname</span><span class="p">,</span><span class="w"> </span><span class="nv">subcode</span><span class="p">,</span><span class="w"> </span><span class="nv">datafile</span><span class="p">,</span><span class="w"> </span><span class="nv">token</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#uploadfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">UploadFile()</span></code></a>, <a class="reference internal" href="#getnewsubnum"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetNewSubNum()</span></code></a>, <a class="reference internal" href="peblstream.html#posthttpfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">PostHTTPFile()</span></code></a></p>
</section>
<section id="uploadfile">
<span id="index-56"></span><h2><a class="toc-backref" href="#id58" role="doc-backlink">UploadFile()</a><a class="headerlink" href="#uploadfile" title="Link to this heading">¶</a></h2>
<p><em>Uploads a data file to a remote server</em></p>
<p><strong>Description:</strong></p>
<p>Uploads experimental data files to a remote server for centralized data collection. Only operates when the <code class="docutils literal notranslate"><span class="pre">--upload</span></code> command-line flag is used with PEBL. Reads server configuration from a JSON settings file containing host, page, port, and authentication details. If no_upload flag is set in settings or the file doesn’t exist, upload is skipped. Useful for online experiments or multi-site studies requiring automatic data upload.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">UploadFile</span><span class="p">(</span><span class="nv">subcode</span><span class="p">,</span><span class="w"> </span><span class="nv">datafilename</span><span class="p">,</span><span class="w"> </span><span class="nv">settings</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1"># Upload data file after experiment completes</span>
<span class="c1"># Run PEBL with: pebl experiment.pbl --upload upload.json</span>
<span class="c1">#</span>
<span class="c1"># upload.json contains:</span>
<span class="c1"># {</span>
<span class="c1">#   &quot;host&quot;: &quot;data.mylab.edu&quot;,</span>
<span class="c1">#   &quot;page&quot;: &quot;upload.php&quot;,</span>
<span class="c1">#   &quot;port&quot;: 80,</span>
<span class="c1">#   &quot;username&quot;: &quot;labuser&quot;,</span>
<span class="c1">#   &quot;password&quot;: &quot;secure_password&quot;</span>
<span class="c1"># }</span>

<span class="vg">gSubNum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;101&quot;</span>
<span class="nv">datafile</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;data/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="vg">gSubNum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/results.csv&quot;</span>

<span class="c1"># Upload will only happen if --upload was specified</span>
<span class="nf">UploadFile</span><span class="p">(</span><span class="vg">gSubNum</span><span class="p">,</span><span class="w"> </span><span class="nv">datafile</span><span class="p">)</span>

<span class="c1"># Or specify custom settings file</span>
<span class="nf">UploadFile</span><span class="p">(</span><span class="vg">gSubNum</span><span class="p">,</span><span class="w"> </span><span class="nv">datafile</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;custom_upload.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#syncdatafile"><code class="xref py py-func docutils literal notranslate"><span class="pre">SyncDataFile()</span></code></a>, <a class="reference internal" href="#getnewsubnum"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetNewSubNum()</span></code></a>, <a class="reference internal" href="#initializeupload"><code class="xref py py-func docutils literal notranslate"><span class="pre">InitializeUpload()</span></code></a></p>
</section>
<section id="clickon">
<span id="index-57"></span><h2><a class="toc-backref" href="#id59" role="doc-backlink">ClickOn()</a><a class="headerlink" href="#clickon" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Calls the function named by the .clickon property of a custom object. Useful for handling click events of a bunch of different objects. This is essentially the same as CallFunction(obj.clickon, [obj,gClick]).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Clickon</span><span class="p">(</span><span class="nv">obj</span><span class="p">,[</span><span class="nv">x</span><span class="p">,</span><span class="nv">y</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##This overrides buttons placement at the center:</span>
<span class="w">   </span><span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="w">   </span><span class="nf">WaitForClickOnTarget</span><span class="p">([</span><span class="nv">done</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="nf">Clickon</span><span class="p">(</span><span class="nv">done</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#inside"><code class="xref py py-func docutils literal notranslate"><span class="pre">Inside()</span></code></a>, <a class="reference internal" href="ui.html#clickcheckbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">ClickCheckbox()</span></code></a>, <a class="reference internal" href="#moveobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveObject()</span></code></a>, <a class="reference internal" href="#drawobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawObject()</span></code></a></p>
</section>
<section id="countdown">
<span id="index-58"></span><h2><a class="toc-backref" href="#id60" role="doc-backlink">Countdown()</a><a class="headerlink" href="#countdown" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Displays a 3-2-1 countdown on the screen in with 500 ms ISI. <code class="docutils literal notranslate"><span class="pre">CountDown</span></code> temporarily hides whatever is on the screen. It is useful in orienting participants to the first trial of a task. The second argument (useBackground) is true (1) by default. In this case, the entire screen will be hidden with a black overlay. If set to 0, this overlay will not be made.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">CountDown</span><span class="p">(</span><span class="nv">win</span><span class="p">)</span>
<span class="w">   </span><span class="nf">CountDown</span><span class="p">(</span><span class="nv">win</span><span class="p">,(</span><span class="nv">optional</span><span class="p">)</span><span class="nv">useBackground</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">win</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">()</span>
<span class="w">  </span><span class="nf">MessageBox</span><span class="p">(</span><span class="s2">&quot;Press any key to begin&quot;</span><span class="p">,</span><span class="nv">win</span><span class="p">)</span>
<span class="w">  </span><span class="nf">CountDown</span><span class="p">(</span><span class="nv">win</span><span class="p">)</span>
<span class="w">  </span><span class="nf">Trial</span><span class="p">()</span>

<span class="w">  </span><span class="nf">CountDown</span><span class="p">(</span><span class="nv">win</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span>T<span class="nv">rial</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#messagebox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MessageBox()</span></code></a></p>
</section>
<section id="getinput">
<span id="index-59"></span><h2><a class="toc-backref" href="#id61" role="doc-backlink">GetInput()</a><a class="headerlink" href="#getinput" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Allows user to type input into a textbox.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">GetInput</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">textbox</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nv">escape</span><span class="o">-</span><span class="nv">key</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblobjects.html#seteditable"><code class="xref py py-func docutils literal notranslate"><span class="pre">SetEditable()</span></code></a>, <a class="reference internal" href="peblobjects.html#getcursorposition"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetCursorPosition()</span></code></a>, <a class="reference internal" href="peblobjects.html#maketextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeTextBox()</span></code></a>, <a class="reference internal" href="peblobjects.html#settext"><code class="xref py py-func docutils literal notranslate"><span class="pre">SetText()</span></code></a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PEBL Function Reference</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Built-in Namespaces:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="peblenvironment.html">Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="pebllist.html">Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblmath.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblobjects.html">Graphics &amp; Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblstream.html">File &amp; Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblstring.html">Strings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library Functions:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">UI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utility</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Function Index</a></li>
    
    <li class="toctree-l1"><a href="../documentation.html">PEBL Documentation</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ui.html" title="previous chapter">UI Library - User Interface</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Shane T. Mueller.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/utility.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>