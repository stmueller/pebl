<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>UI Library - User Interface &#8212; PEBL Function Reference</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=cb25574f" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=4c664190" />
    <script src="../_static/documentation_options.js?v=c4a36953"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utility Library - Helpers and Utilities" href="utility.html" />
    <link rel="prev" title="Math Library - Extended Mathematical" href="math.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ui-library-user-interface">
<h1>UI Library - User Interface<a class="headerlink" href="#ui-library-user-interface" title="Link to this heading">¶</a></h1>
<p>This library contains functions for creating user interface elements like buttons, textboxes, and checkboxes.</p>
<nav class="contents local" id="function-index">
<p class="topic-title">Function Index</p>
<ul class="simple">
<li><p><a class="reference internal" href="#clearscrollboxthumbcapture" id="id1">ClearScrollboxThumbCapture()</a></p></li>
<li><p><a class="reference internal" href="#clickcheckbox" id="id2">ClickCheckbox()</a></p></li>
<li><p><a class="reference internal" href="#clickonmenu" id="id3">ClickOnMenu()</a></p></li>
<li><p><a class="reference internal" href="#clickonscrollbox" id="id4">ClickOnScrollbox()</a></p></li>
<li><p><a class="reference internal" href="#copytextbox" id="id5">CopyTextBox()</a></p></li>
<li><p><a class="reference internal" href="#drawpulldown" id="id6">DrawPulldown()</a></p></li>
<li><p><a class="reference internal" href="#drawscrollbox" id="id7">DrawScrollbox()</a></p></li>
<li><p><a class="reference internal" href="#drawscrollingtextbox" id="id8">DrawScrollingTextBox()</a></p></li>
<li><p><a class="reference internal" href="#editscrollboxvalue" id="id9">EditScrollboxValue()</a></p></li>
<li><p><a class="reference internal" href="#filterlist" id="id10">FilterList()</a></p></li>
<li><p><a class="reference internal" href="#getfulllinebreaks" id="id11">GetFullLineBreaks()</a></p></li>
<li><p><a class="reference internal" href="#insidemenu" id="id12">InsideMenu()</a></p></li>
<li><p><a class="reference internal" href="#insidetb" id="id13">InsideTB()</a></p></li>
<li><p><a class="reference internal" href="#makebutton" id="id14">MakeButton()</a></p></li>
<li><p><a class="reference internal" href="#makecheckbox" id="id15">MakeCheckbox()</a></p></li>
<li><p><a class="reference internal" href="#makemenu" id="id16">MakeMenu()</a></p></li>
<li><p><a class="reference internal" href="#makemenuitem" id="id17">MakeMenuItem()</a></p></li>
<li><p><a class="reference internal" href="#makepulldown" id="id18">MakePulldown()</a></p></li>
<li><p><a class="reference internal" href="#makescrollbox" id="id19">MakeScrollBox()</a></p></li>
<li><p><a class="reference internal" href="#makescrollingtextbox" id="id20">MakeScrollingTextBox()</a></p></li>
<li><p><a class="reference internal" href="#maketextlist" id="id21">MakeTextList()</a></p></li>
<li><p><a class="reference internal" href="#opensubmenus" id="id22">OpenSubMenus()</a></p></li>
<li><p><a class="reference internal" href="#pastetextbox" id="id23">PasteTextBox()</a></p></li>
<li><p><a class="reference internal" href="#popupentrybox" id="id24">PopUpEntryBox()</a></p></li>
<li><p><a class="reference internal" href="#popupmessagebox" id="id25">PopupMessageBox()</a></p></li>
<li><p><a class="reference internal" href="#pushbutton" id="id26">PushButton()</a></p></li>
<li><p><a class="reference internal" href="#pulldown" id="id27">Pulldown()</a></p></li>
<li><p><a class="reference internal" href="#setscrollingtext" id="id28">SetScrollingText()</a></p></li>
<li><p><a class="reference internal" href="#setcheckbox" id="id29">SetCheckbox()</a></p></li>
<li><p><a class="reference internal" href="#settextboxcursorfromclick" id="id30">SetTextBoxCursorFromClick()</a></p></li>
<li><p><a class="reference internal" href="#sortdir" id="id31">SortDir()</a></p></li>
<li><p><a class="reference internal" href="#updatepulldown" id="id32">UpdatePulldown()</a></p></li>
<li><p><a class="reference internal" href="#updatescrollbox" id="id33">UpdateScrollbox()</a></p></li>
<li><p><a class="reference internal" href="#vecplus" id="id34">VecPlus()</a></p></li>
<li><p><a class="reference internal" href="#adaptivetextbox" id="id35">AdaptiveTextBox()</a></p></li>
</ul>
</nav>
<section id="clearscrollboxthumbcapture">
<span id="index-0"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">ClearScrollboxThumbCapture()</a><a class="headerlink" href="#clearscrollboxthumbcapture" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this supposedly gets called on a mouse release event?
it should also get called when you leave the window…</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ClearScrollboxThumbCapture</span><span class="p">(</span><span class="nv">obj</span><span class="p">,</span><span class="nv">p</span><span class="p">,</span><span class="nv">event</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="c1">#+</span>
</pre></div>
</div>
</section>
<section id="clickcheckbox">
<span id="index-1"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">ClickCheckbox()</a><a class="headerlink" href="#clickcheckbox" title="Link to this heading">¶</a></h2>
<p><em>Toggles checkbox state</em></p>
<p><strong>Description:</strong></p>
<p>This ‘clicks’ a checkbox, changing its status (both the visual display and its .status property). Its state can also be set using the SetCheckBox() function. The text “ClickCheckBox” is by default bound to the .clickon property of any checkbox, enabling you to handle a number of graphical objects the same (see CallFunction example). The [x,y] coordinates are ignored, and so anything can be fed to them, but the standard approach is to use gClick, which is a global bound to the last click coordinates when WaitForClickOnTarget is used.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">ClickCheckBox</span><span class="p">(</span><span class="nv">obj</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="nv">y</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##The following creates a button, waits for you to click on it, and animates a button press</span>

<span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;OK?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">([</span><span class="nv">ok</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">ClickCheckBox</span><span class="p">(</span><span class="nv">ok</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>

<span class="c1">##You can handle a bunch of objects together using an idiom like this:</span>

<span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;OK?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">ok2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;Otherwise?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">280</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">checks</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="nv">ok</span><span class="p">,</span><span class="nv">ok2</span><span class="p">]</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">(</span><span class="nv">checks</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="nv">check</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Nth</span><span class="p">(</span><span class="nv">checks</span><span class="p">,</span><span class="nv">resp</span><span class="p">)</span>
<span class="nf">CallFunction</span><span class="p">(</span><span class="nv">check.clickon</span><span class="p">,[</span><span class="nv">check</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeCheckBox()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">SetCheckBox()</span></code></p>
</section>
<section id="clickonmenu">
<span id="index-2"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">ClickOnMenu()</a><a class="headerlink" href="#clickonmenu" title="Link to this heading">¶</a></h2>
<p><em>Handles menu click, calling the .clickon function of menu.</em></p>
<p><strong>Description:</strong></p>
<p>Handles clicking on a menu item. It will call the .clickon property of that item, and then hide the menu.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ClickOnMenu</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">his</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">menu</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">awaits</span><span class="w"> </span><span class="nv">clicking</span><span class="w"> </span><span class="nv">on</span><span class="p">.</span><span class="w">  </span>M<span class="nv">ore</span><span class="w"> </span><span class="nv">complete</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">available</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="p">.</span><span class="w">  </span>I<span class="nv">t</span><span class="w"> </span><span class="nv">requires</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span>M<span class="nv">yMessage</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">created</span><span class="w"> </span><span class="nv">somewhere</span>


<span class="w">   </span><span class="nv">menu1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenuItem</span><span class="p">(</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>


<span class="w">   </span><span class="nv">menu2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>

<span class="w">   </span><span class="nv">menus</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="nv">menu1</span><span class="p">,</span><span class="nv">menu2</span><span class="p">]</span>
<span class="w">   </span><span class="nv">opt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">(</span><span class="nv">menu</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="w">   </span><span class="nf">ClickOnMenu</span><span class="p">(</span><span class="nf">Nth</span><span class="p">(</span><span class="nv">menus</span><span class="p">,</span><span class="nv">opt</span><span class="p">),</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#makemenu"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenu()</span></code></a>, <a class="reference internal" href="#opensubmenus"><code class="xref py py-func docutils literal notranslate"><span class="pre">OpenSubMenus()</span></code></a>, <a class="reference internal" href="#makemenuitem"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenuItem()</span></code></a></p>
</section>
<section id="clickonscrollbox">
<span id="index-3"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">ClickOnScrollbox()</a><a class="headerlink" href="#clickonscrollbox" title="Link to this heading">¶</a></h2>
<p><em>Handles click on scrollbox.</em></p>
<p><strong>Description:</strong></p>
<p>Handles a click event on the a  <code class="docutils literal notranslate"><span class="pre">ScrollBox</span></code>. This should be called after one checks (e.g., via InsideTB) whether the scrollbox was actually clicked on.  It will handle scrolling, moving via the thumb, up/down arrows, and reselection. It is also used to interact with <code class="docutils literal notranslate"><span class="pre">ScrollingTextBox</span></code>  objects. This function name is bound to the .clickon property of scrollboxes, so it can be called using CallFunction (see example below).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">ClickOnScrollbox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">demo</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">scrolling</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">box</span><span class="p">.</span><span class="w">  </span>A<span class="w"> </span><span class="nv">brief</span><span class="w"> </span><span class="nv">example</span><span class="w"> </span><span class="nv">follows</span><span class="o">:</span>


<span class="w">   </span><span class="nv">sb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollBox</span><span class="p">(</span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&quot;The numbers&quot;</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>

<span class="w">   </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">sb</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">    </span><span class="nf">ClickOnScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>

<span class="w">    </span><span class="c1">#Alternately:   CallFunction(sb.clickon,[sb,gClick])</span>


<span class="w">   </span><span class="c1">##change the selected items</span>
<span class="w">   </span><span class="nv">sb.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Sequence</span><span class="p">(</span><span class="nv">sb.selected</span><span class="p">,</span><span class="nv">sb.selected</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="nf">UpdateScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="w">   </span><span class="nf">DrawScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">MakeScrollingTextBox</span></code>
<code class="docutils literal notranslate"><span class="pre">MakeScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">UpdateScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">DrawScrollBox</span></code></p>
</section>
<section id="copytextbox">
<span id="index-4"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">CopyTextBox()</a><a class="headerlink" href="#copytextbox" title="Link to this heading">¶</a></h2>
<p><em>Copies textbox content to clipboard</em></p>
<p><strong>Description:</strong></p>
<p>Copies the text content of a textbox to the system clipboard. This function is typically bound to a right-click menu on textboxes, allowing users to copy text for pasting into other applications or textboxes within PEBL.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">CopyTextBox</span><span class="p">(</span><span class="nv">menu</span><span class="p">,</span><span class="w"> </span><span class="nv">xy</span><span class="p">,</span><span class="w"> </span><span class="nv">box</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##Create a textbox with some text</span>
<span class="nv">font</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeFont</span><span class="p">(</span><span class="s2">&quot;DejaVuSans.ttf&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">),</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="nv">textbox</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeTextBox</span><span class="p">(</span><span class="s2">&quot;Sample text to copy&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="nf">AddObject</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
<span class="nf">Move</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w"> </span><span class="mi">240</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>

<span class="c1">##Copy the textbox content (typically called from a right-click menu)</span>
<span class="nf">CopyTextBox</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="nv">textbox</span><span class="p">)</span>

<span class="c1">##Now clipboard contains &quot;Sample text to copy&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#pastetextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">PasteTextBox()</span></code></a>, <a class="reference internal" href="peblstring.html#copytoclipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyToClipboard()</span></code></a>, <a class="reference internal" href="peblenvironment.html#copyfromclipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyFromClipboard()</span></code></a>, <a class="reference internal" href="peblobjects.html#maketextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeTextBox()</span></code></a></p>
</section>
<section id="drawpulldown">
<span id="index-5"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">DrawPulldown()</a><a class="headerlink" href="#drawpulldown" title="Link to this heading">¶</a></h2>
<p><em>Redraws a pulldonw if state changes.</em></p>
<p><strong>Description:</strong></p>
<p>This handles layout/drawing of a pulldown box. This does not actually call Draw() on the window, and so an additional draw command is needed before the output is displayed.  The main use case for this function is if you need to manually change the selected object (by changing .selected). This will redraw the pulldown with the new selection.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">DrawPulldown</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">options</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakePulldownButton</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span>B<span class="s2">&quot;,&quot;</span>C&quot;<span class="p">],</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">WaitForAnyKeyPress</span><span class="p">()</span>
<span class="nv">options.selected</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">2</span>
<span class="nf">DrawPulldown</span><span class="p">(</span><span class="nv">options</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">WaitForAnyKeyPress</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakePullDown()</span></code>, <a class="reference internal" href="#pulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">Pulldown()</span></code></a>, <a class="reference internal" href="#updatepulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">UpdatePulldown()</span></code></a></p>
</section>
<section id="drawscrollbox">
<span id="index-6"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">DrawScrollbox()</a><a class="headerlink" href="#drawscrollbox" title="Link to this heading">¶</a></h2>
<p><em>Redraws a scrollbox</em></p>
<p><strong>Description:</strong></p>
<p>Redraws a ScrollBox. This is called by various internal functions, but should be used to handle redrawing if UpdateScrollbox is used. When things like the scrollbar, offset, and selected item change, this can be called directly. If the actual list is changed, UpdateScrollBox should be called first. Note that the redrawn scrollbox won’t be changed on the screen until a Draw() command is issued.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">DrawScrollBox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">sb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollBox</span><span class="p">(</span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&quot;The numbers&quot;</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>

<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">sb</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">CallFunction</span><span class="p">(</span><span class="nv">sb.clickon</span><span class="p">,[</span><span class="nv">sb</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="c1">##Alternately: ClickOnScrollbox(sb,gClick)</span>

<span class="c1">##change the selected items</span>
<span class="nv">sb.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Sequence</span><span class="p">(</span><span class="nv">sb.selected</span><span class="p">,</span><span class="nv">sb.selected</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nf">UpdateScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="nf">DrawScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#makescrollingtextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeScrollingTextBox()</span></code></a>, <a class="reference internal" href="#makescrollbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeScrollBox()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">UpdateScrollBox()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">ClickOnScrollBox()</span></code></p>
</section>
<section id="drawscrollingtextbox">
<span id="index-7"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">DrawScrollingTextBox()</a><a class="headerlink" href="#drawscrollingtextbox" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this draws the current state of the scrollbox.
It should be called directly whenever things like the scrollbar,
offset, selected item are changed, but not when the list changes.
the only material side effect it can have is changing selected, which will update
to ensure it stays within bounds.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">DrawScrollingTextBox</span><span class="p">(</span><span class="nv">obj</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="editscrollboxvalue">
<span id="index-8"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">EditScrollboxValue()</a><a class="headerlink" href="#editscrollboxvalue" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>make this separate so you can override for more custom edits.
see launcher experiment chain, where the chain is just a set of labels
that link to the ‘real’ chain.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">EditScrollboxValue</span><span class="p">(</span><span class="nv">win</span><span class="p">,</span><span class="nv">click</span><span class="p">,</span><span class="nv">default</span><span class="p">,</span><span class="nv">selected</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="filterlist">
<span id="index-9"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">FilterList()</a><a class="headerlink" href="#filterlist" title="Link to this heading">¶</a></h2>
<p><em>Filters a list by substring match</em></p>
<p><strong>Description:</strong></p>
<p>Filters a list to include only items that contain a specified substring. This function searches each item in the list for the filter string and returns a new list containing only matching items. The search is case-sensitive and matches any occurrence of the filter string within each list item.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">FilterList</span><span class="p">(</span><span class="nv">list</span><span class="p">,</span><span class="w"> </span><span class="nv">filter</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##Filter a list of files to show only .txt files</span>
<span class="nv">files</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;data1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;data2.csv&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;notes.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;readme.md&quot;</span><span class="p">]</span>
<span class="nv">txtFiles</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">FilterList</span><span class="p">(</span><span class="nv">files</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="p">)</span>
<span class="c1">##Returns: [&quot;data1.txt&quot;, &quot;notes.txt&quot;]</span>

<span class="c1">##Filter a list of names</span>
<span class="nv">names</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Charlie&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;David&quot;</span><span class="p">]</span>
<span class="nv">aNames</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">FilterList</span><span class="p">(</span><span class="nv">names</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="c1">##Returns: [&quot;Charlie&quot;, &quot;David&quot;] (contains lowercase &#39;a&#39;)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="peblstring.html#findinstring"><code class="xref py py-func docutils literal notranslate"><span class="pre">FindInString()</span></code></a>, <a class="reference internal" href="peblstring.html#substring"><code class="xref py py-func docutils literal notranslate"><span class="pre">SubString()</span></code></a>, <a class="reference internal" href="math.html#filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">Filter()</span></code></a></p>
</section>
<section id="getfulllinebreaks">
<span id="index-10"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">GetFullLineBreaks()</a><a class="headerlink" href="#getfulllinebreaks" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this attempts to get the full set of linebreaks from the
text attached to tb</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">GetFullLineBreaks</span><span class="p">(</span><span class="nv">tb</span><span class="p">,</span><span class="nv">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="insidemenu">
<span id="index-11"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">InsideMenu()</a><a class="headerlink" href="#insidemenu" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>This is offset from upper left corner</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">InsideMenu</span><span class="p">(</span><span class="nv">xy</span><span class="p">,</span><span class="nv">object</span><span class="p">)</span><span class="c1">#+</span>
</pre></div>
</div>
</section>
<section id="insidetb">
<span id="index-12"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">InsideTB()</a><a class="headerlink" href="#insidetb" title="Link to this heading">¶</a></h2>
<p><em>Determine inside for a textbox-style object (location is upper left)</em></p>
<p><strong>Description:</strong></p>
<p>Determines whether an <code class="docutils literal notranslate"><span class="pre">[x,y]</span></code> point is inside an object having .x, .y, .width, and .height properties, with .x and .y representing the upper left corner of the object.  This is bound to the .inside property of many custom ui objects.  The <code class="docutils literal notranslate"><span class="pre">Inside</span></code> function will use the function bound to the .inside property for any custom object having that property, and so this function’s use is mainly hidden from users.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">InsideTB</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">pulldown</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakePulldown</span><span class="p">([</span><span class="s2">&quot;one&quot;</span><span class="p">,</span><span class="s2">&quot;two&quot;</span><span class="p">,</span><span class="s2">&quot;three&quot;</span><span class="p">,</span><span class="s2">&quot;four&quot;</span><span class="p">],</span><span class="mi">400</span><span class="o">-</span><span class="mi">75</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="k">if</span><span class="p">(</span><span class="nf">InsideTB</span><span class="p">([</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">],</span><span class="nv">pulldown</span><span class="p">))</span>
<span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nf">Print</span><span class="p">(</span><span class="s2">&quot;INSIDE&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="utility.html#inside"><code class="xref py py-func docutils literal notranslate"><span class="pre">Inside()</span></code></a>, <a class="reference internal" href="utility.html#moveobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">MoveObject()</span></code></a>, <a class="reference internal" href="utility.html#clickon"><code class="xref py py-func docutils literal notranslate"><span class="pre">ClickOn()</span></code></a>, <a class="reference internal" href="utility.html#drawobject"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawObject()</span></code></a></p>
</section>
<section id="makebutton">
<span id="index-13"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">MakeButton()</a><a class="headerlink" href="#makebutton" title="Link to this heading">¶</a></h2>
<p><em>Makes a button for clicking on.</em></p>
<p><strong>Description:</strong></p>
<p>Creates a button on a window that can be clicked and launches actions. The button is always 20 pixels high (using images in media images), with a rounded grey background.  The label text will be shrunk to fit the width, although this should be avoided as it can look strange. A button is a custom object made from images and text. It has a property ‘clickon’ that is bound to ‘PushButton’  A button will look like this: <strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">he</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">button</span><span class="p">,</span><span class="w"> </span><span class="nv">waits</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">click</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">it</span><span class="p">,</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">animates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">button</span><span class="w"> </span><span class="nv">press</span>


<span class="w"> </span><span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="w"> </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">done</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w"> </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">done.clickon</span><span class="p">,[</span><span class="nv">done</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#pushbutton"><code class="xref py py-func docutils literal notranslate"><span class="pre">PushButton()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">MakeCheckBox()</span></code></p>
</section>
<section id="makecheckbox">
<span id="index-14"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink">MakeCheckbox()</a><a class="headerlink" href="#makecheckbox" title="Link to this heading">¶</a></h2>
<p><em>Creates a checkbox widget</em></p>
<p><strong>Description:</strong></p>
<p>Creates a checkbox on a window that can be clicked and keeps track of its status. The checkbox uses a MakeButton object as its base. The checkbox button is always 20 pixels high (using images in media/images), with a rounded grey background. The label text will be shrunk to fit the width, although this should be avoided as it can look strange. It has a property ‘clickon’ that is bound to ClickCheckBox, which flips its state and updates the graphics. It has a property state which is either 0 or 1, depending on the state of the checkbox. Its initial state is 0. Its state can be set using the SetCheckBox() function.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">MakeCheckBox</span><span class="p">(</span><span class="nv">label</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">window</span><span class="p">,</span><span class="w"> </span><span class="nv">width</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##The following creates a button, waits for you to click on it, and animates a button press</span>

<span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;OK?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">([</span><span class="nv">ok</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">CallFunction</span><span class="p">(</span><span class="nv">ok.clickon</span><span class="p">,[</span><span class="nv">ok</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="nf">Draw</span><span class="p">()</span>

<span class="c1">##Alternately:</span>

<span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;OK?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOnTarget</span><span class="p">([</span><span class="nv">ok</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">ClickCheckBox</span><span class="p">(</span><span class="nv">ok</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">ClickCheckBox()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">SetCheckBox()</span></code></p>
</section>
<section id="makemenu">
<span id="index-15"></span><h2><a class="toc-backref" href="#id16" role="doc-backlink">MakeMenu()</a><a class="headerlink" href="#makemenu" title="Link to this heading">¶</a></h2>
<p><em>Creates menu with suboptions.</em></p>
<p><strong>Description:</strong></p>
<p>Creates a menu containing multiple menu items, that automatically call functions specified by the command.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">his</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">menu</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">awaits</span><span class="w"> </span><span class="nv">clicking</span><span class="w"> </span><span class="nv">on</span><span class="p">.</span><span class="w">  </span>M<span class="nv">ore</span><span class="w"> </span><span class="nv">complete</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">available</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="p">.</span><span class="w">  </span>I<span class="nv">t</span><span class="w"> </span><span class="nv">requires</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span>M<span class="nv">yMessage</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">created</span><span class="w"> </span><span class="nv">somewhere</span>


<span class="w">   </span><span class="nv">menu1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span>
<span class="w">              </span><span class="p">[</span><span class="s2">&quot;Open&quot;</span><span class="p">,</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span><span class="s2">&quot;Save as&quot;</span><span class="p">,</span><span class="s2">&quot;Quit&quot;</span><span class="p">],</span>
<span class="w">              </span><span class="p">[</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">])</span>


<span class="w">   </span><span class="nv">menu2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span>
<span class="w">              </span><span class="p">[</span><span class="s2">&quot;Cut&quot;</span><span class="p">,</span><span class="s2">&quot;Copy&quot;</span><span class="p">,</span><span class="s2">&quot;Paste&quot;</span><span class="p">,</span><span class="s2">&quot;Select&quot;</span><span class="p">],</span>
<span class="w">              </span><span class="p">[</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">])</span>

<span class="w">   </span><span class="nv">menu</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="nv">menu1</span><span class="p">,</span><span class="nv">menu2</span><span class="p">]</span>
<span class="w">   </span><span class="nv">opt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">(</span><span class="nv">menu</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="w">   </span><span class="nf">ClickOnMenu</span><span class="p">(</span><span class="nf">Nth</span><span class="p">(</span><span class="nv">menu</span><span class="p">,</span><span class="nv">opt</span><span class="p">),</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#makemenuitem"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenuItem()</span></code></a>, <a class="reference internal" href="#opensubmenus"><code class="xref py py-func docutils literal notranslate"><span class="pre">OpenSubMenus()</span></code></a>, <a class="reference internal" href="#clickonmenu"><code class="xref py py-func docutils literal notranslate"><span class="pre">ClickOnMenu()</span></code></a></p>
</section>
<section id="makemenuitem">
<span id="index-16"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">MakeMenuItem()</a><a class="headerlink" href="#makemenuitem" title="Link to this heading">¶</a></h2>
<p><em>Creates menu sub-item.</em></p>
<p><strong>Description:</strong></p>
<p>Creates a single menu containing a label, whose .clickon property is bound to some other function.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeMenuItem</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">his</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">menu</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">awaits</span><span class="w"> </span><span class="nv">clicking</span><span class="w"> </span><span class="nv">on</span><span class="p">.</span><span class="w">  </span>M<span class="nv">ore</span><span class="w"> </span><span class="nv">complete</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">available</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="p">.</span><span class="w">  </span>I<span class="nv">t</span><span class="w"> </span><span class="nv">requires</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span>M<span class="nv">yMessage</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">created</span><span class="w"> </span><span class="nv">somewhere</span>


<span class="w">   </span><span class="nv">menu1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenuItem</span><span class="p">(</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>


<span class="w">   </span><span class="nv">menu2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>

<span class="w">   </span><span class="nv">menus</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="nv">menu1</span><span class="p">,</span><span class="nv">menu2</span><span class="p">]</span>
<span class="w">   </span><span class="nv">opt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">(</span><span class="nv">menu</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="w">   </span><span class="nf">ClickOnMenu</span><span class="p">(</span><span class="nf">Nth</span><span class="p">(</span><span class="nv">menus</span><span class="p">,</span><span class="nv">opt</span><span class="p">),</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#makemenu"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenu()</span></code></a>, <a class="reference internal" href="#opensubmenus"><code class="xref py py-func docutils literal notranslate"><span class="pre">OpenSubMenus()</span></code></a>, <code class="docutils literal notranslate"><span class="pre">ClickOnMenu</span></code></p>
</section>
<section id="makepulldown">
<span id="index-17"></span><h2><a class="toc-backref" href="#id18" role="doc-backlink">MakePulldown()</a><a class="headerlink" href="#makepulldown" title="Link to this heading">¶</a></h2>
<p><em>Creates a pulldown selection list</em></p>
<p><strong>Description:</strong></p>
<p>Creates a pulldown list that can be used to select an option. The closed version is always 20 pixels high. When opened, it will be by default 15 rows high, although this is made smaller if the pulldown is close to the bottom of the screen. A pulldown is a custom object made from images and text. It has a property ‘clickon’ that is bound to ‘Pulldown’.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">MakePulldown</span><span class="p">(</span><span class="nv">options</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">window</span><span class="p">,</span><span class="w"> </span><span class="nv">fontsize</span><span class="p">,</span><span class="w"> </span><span class="nv">width</span><span class="p">,</span><span class="w"> </span><span class="nv">selected</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Parameters:</strong></p>
<p>The options argument is a list of options you want to appear. x and y are the coordinates of the upper left corner, window is the name of the window (or other graphical object) it appears on, fontsize is the size of the font, and width is the width of the pulldown in pixels. The selected argument is the initial selected list item.</p>
<p>Pulldown objects have a property .maxitems, that specify how many elements are displayed. If the list contains more than obj.maxitems, the pulldown will enable scrolling. A pulldown’s click-on handler is by default bound to the ‘Pulldown’ function. When Pulldown(obj,mousexy) is called, it will pop open the pulldown, allow for a new option to be selected, and return. It returns the index of the selected object, but the selected index can also be accessed using obj.selected.</p>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##See ui.pbl in the demo directory for examples of the use of pulldowns.</span>
<span class="c1">##A basic example is:</span>

<span class="nv">options</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakePulldownButton</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B&quot;</span><span class="p">,</span><span class="s2">&quot;C&quot;</span><span class="p">],</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">options</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">CallFunction</span><span class="p">(</span><span class="nv">options.clickon</span><span class="p">,[</span><span class="nv">options</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">PullDown()</span></code>, <a class="reference internal" href="#drawpulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawPulldown()</span></code></a>, <a class="reference internal" href="#updatepulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">UpdatePulldown()</span></code></a></p>
</section>
<section id="makescrollbox">
<span id="index-18"></span><h2><a class="toc-backref" href="#id19" role="doc-backlink">MakeScrollBox()</a><a class="headerlink" href="#makescrollbox" title="Link to this heading">¶</a></h2>
<p><em>Make a scrolling selection box.</em></p>
<p><strong>Description:</strong></p>
<p>Creates a graphical object that displays and allows selection of a list of items, and scrolls if the text gets too big.   It has a property ‘clickon’ that is bound to ‘ClickOnScrollBox’  A Scrolling textbox looks like this: <strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeScrollBox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">demo</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">scrolling</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">box</span>



<span class="w">  </span><span class="nv">sb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollBox</span><span class="p">(</span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&quot;The numbers&quot;</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>
<span class="w">   </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">sb</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">sb.clickon</span><span class="p">,[</span><span class="nv">sb</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="w">   </span><span class="c1">#Alternately: ClickOnScrollbox(sb,gClick)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">SetScrollingText</span></code>
<code class="docutils literal notranslate"><span class="pre">MakeScrollingTextBox</span></code>
<code class="docutils literal notranslate"><span class="pre">UpdateScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">DrawScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">ClickOnScrollBox</span></code></p>
</section>
<section id="makescrollingtextbox">
<span id="index-19"></span><h2><a class="toc-backref" href="#id20" role="doc-backlink">MakeScrollingTextBox()</a><a class="headerlink" href="#makescrollingtextbox" title="Link to this heading">¶</a></h2>
<p><em>Make a box for text that can be scrolled if too long.</em></p>
<p><strong>Description:</strong></p>
<p>Creates a graphical object that displays a block of text, and scrolls if the text gets too big. It uses a <code class="docutils literal notranslate"><span class="pre">Scrollbox</span></code> as its base, but handles parsing the text into lines and hides the selection box.  Thus, no ‘selection’ is displayed (although it actually exists), and a .text property is added to hold the text being displayed.  It has a property ‘clickon’ that is bound to ‘ClickOnScrollBox’  A Scrolling textbox looks like this: <strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeScrollingTextBox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">demo</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">scrolling</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">box</span>



<span class="w">  </span><span class="nv">textscroll</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollingTextBox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span>
<span class="w">                                        </span><span class="mi">300</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="w">  </span><span class="nf">SetScrollingText</span><span class="p">(</span><span class="nv">textscroll</span><span class="p">,</span><span class="nf">FileReadText</span><span class="p">(</span><span class="s2">&quot;Uppercase.txt&quot;</span><span class="p">))</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>
<span class="w">  </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">textscroll</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">textscroll.clickon</span><span class="p">,[</span><span class="nv">textscroll</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">SetScrollingText</span></code>
<code class="docutils literal notranslate"><span class="pre">MakeScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">UpdateScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">DrawScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">ClickOnScrollBox</span></code></p>
</section>
<section id="maketextlist">
<span id="index-20"></span><h2><a class="toc-backref" href="#id21" role="doc-backlink">MakeTextList()</a><a class="headerlink" href="#maketextlist" title="Link to this heading">¶</a></h2>
<p><em>Creates a text body from a list.</em></p>
<p><strong>Description:</strong></p>
<p>This takes a list and creates a block of text with carriage returns, ensuring each item of the list is on its own line; it also requires an offset, skipping the first lines of the list.  It is mostly a helper function used by <code class="docutils literal notranslate"><span class="pre">Scrollbox</span></code> objects to help format.  It will make text out of the entire list, so  you should be sure to cut off the end for efficiency if you only want to display some of the lines.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">MakeTextList</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">letters</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">FileReadList</span><span class="p">(</span><span class="s2">&quot;Uppercase.txt&quot;</span><span class="p">)</span>
<span class="nv">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeTextList</span><span class="p">(</span><span class="nv">letters</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>

T<span class="nv">he</span><span class="w"> </span><span class="nv">above</span><span class="w"> </span><span class="nv">code</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">create</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">following</span><span class="o">:</span>

<span class="o">--</span><span class="nv">u</span>
<span class="o">--</span><span class="nv">v</span>
<span class="o">--</span><span class="nv">w</span>
<span class="o">--</span><span class="nv">x</span>
<span class="o">--</span><span class="nv">y</span>
<span class="o">--</span><span class="nv">z</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ListToString</span></code></p>
</section>
<section id="opensubmenus">
<span id="index-21"></span><h2><a class="toc-backref" href="#id22" role="doc-backlink">OpenSubMenus()</a><a class="headerlink" href="#opensubmenus" title="Link to this heading">¶</a></h2>
<p><em>Opens the sub-menus of a menu.</em></p>
<p><strong>Description:</strong></p>
<p>Used by ClickOnMenu to open, display a submenu and get a click.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">OpenSubMenus</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">his</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">menu</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">awaits</span><span class="w"> </span><span class="nv">clicking</span><span class="w"> </span><span class="nv">on</span><span class="p">.</span><span class="w">  </span>M<span class="nv">ore</span><span class="w"> </span><span class="nv">complete</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">available</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="p">.</span><span class="w">  </span>I<span class="nv">t</span><span class="w"> </span><span class="nv">requires</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span>M<span class="nv">yMessage</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">created</span><span class="w"> </span><span class="nv">somewhere</span>


<span class="w">   </span><span class="nv">menu1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenuItem</span><span class="p">(</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>


<span class="w">   </span><span class="nv">menu2</span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeMenu</span><span class="p">(</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MYMESSAGE&quot;</span><span class="p">)</span>

<span class="w">   </span><span class="nv">menus</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="nv">menu1</span><span class="p">,</span><span class="nv">menu2</span><span class="p">]</span>
<span class="w">   </span><span class="nv">opt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">(</span><span class="nv">menu</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="w">   </span><span class="nf">ClickOnMenu</span><span class="p">(</span><span class="nf">Nth</span><span class="p">(</span><span class="nv">menus</span><span class="p">,</span><span class="nv">opt</span><span class="p">),</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#makemenu"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenu()</span></code></a>, <a class="reference internal" href="#opensubmenus"><code class="xref py py-func docutils literal notranslate"><span class="pre">OpenSubMenus()</span></code></a>, <a class="reference internal" href="#makemenuitem"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeMenuItem()</span></code></a></p>
</section>
<section id="pastetextbox">
<span id="index-22"></span><h2><a class="toc-backref" href="#id23" role="doc-backlink">PasteTextBox()</a><a class="headerlink" href="#pastetextbox" title="Link to this heading">¶</a></h2>
<p><em>Pastes clipboard content into textbox</em></p>
<p><strong>Description:</strong></p>
<p>Pastes text from the system clipboard into a textbox, replacing its current content. This function is typically bound to a right-click menu on textboxes, allowing users to paste text from other applications or from previously copied PEBL textbox content. The textbox is automatically redrawn after pasting.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">PasteTextBox</span><span class="p">(</span><span class="nv">menu</span><span class="p">,</span><span class="w"> </span><span class="nv">xy</span><span class="p">,</span><span class="w"> </span><span class="nv">box</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##First, copy some text to clipboard</span>
<span class="nf">CopyToClipboard</span><span class="p">(</span><span class="s2">&quot;Hello from PEBL!&quot;</span><span class="p">)</span>

<span class="c1">##Create a textbox</span>
<span class="nv">font</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeFont</span><span class="p">(</span><span class="s2">&quot;DejaVuSans.ttf&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">),</span><span class="w"> </span><span class="nf">MakeColor</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="nv">textbox</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeTextBox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="nf">AddObject</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="w"> </span><span class="vg">gWin</span><span class="p">)</span>
<span class="nf">Move</span><span class="p">(</span><span class="nv">textbox</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w"> </span><span class="mi">240</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>

<span class="c1">##Paste clipboard content into the textbox (typically called from a right-click menu)</span>
<span class="nf">PasteTextBox</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="nv">textbox</span><span class="p">)</span>

<span class="c1">##Now textbox.text contains &quot;Hello from PEBL!&quot;</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="#copytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyTextBox()</span></code></a>, <a class="reference internal" href="peblstring.html#copytoclipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyToClipboard()</span></code></a>, <a class="reference internal" href="peblenvironment.html#copyfromclipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">CopyFromClipboard()</span></code></a>, <a class="reference internal" href="peblobjects.html#maketextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeTextBox()</span></code></a></p>
</section>
<section id="popupentrybox">
<span id="index-23"></span><h2><a class="toc-backref" href="#id24" role="doc-backlink">PopUpEntryBox()</a><a class="headerlink" href="#popupentrybox" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>Creates a small text-entry box at a specified location..</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">PopUpEntryBox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">subnum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">PopUpEntryBox</span><span class="p">(</span><span class="s2">&quot;Enter particpant code&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">MessageBox</span></code> <code class="docutils literal notranslate"><span class="pre">GetEasyInput</span></code>, <code class="docutils literal notranslate"><span class="pre">PopUpMessageBox</span></code></p>
</section>
<section id="popupmessagebox">
<span id="index-24"></span><h2><a class="toc-backref" href="#id25" role="doc-backlink">PopupMessageBox()</a><a class="headerlink" href="#popupmessagebox" title="Link to this heading">¶</a></h2>
<p><em>Creates a popup message box</em></p>
<p><strong>Description:</strong></p>
<p>Creates a small 300x200 information box at the current cursor location, but also adjusts so it is on the screen. It must be dismissed by clicking the ‘OK’ button. Note that the function puts the box on the screen at the current mouse position. If you want control over where it goes, you need to use SetMouseCursorPosition immediately before the box is made.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">PopUpMessageBox</span><span class="p">(</span><span class="o">&lt;</span><span class="nv">text</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">win</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">subnum</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">PopUpMessageBox</span><span class="p">(</span><span class="s2">&quot;There has been an error.&quot;</span><span class="p">,</span><span class="vg">gWin</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="utility.html#messagebox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MessageBox()</span></code></a>, <a class="reference internal" href="utility.html#geteasyinput"><code class="xref py py-func docutils literal notranslate"><span class="pre">GetEasyInput()</span></code></a>, <a class="reference internal" href="#popupentrybox"><code class="xref py py-func docutils literal notranslate"><span class="pre">PopUpEntryBox()</span></code></a></p>
</section>
<section id="pushbutton">
<span id="index-25"></span><h2><a class="toc-backref" href="#id26" role="doc-backlink">PushButton()</a><a class="headerlink" href="#pushbutton" title="Link to this heading">¶</a></h2>
<p><em>Pushes a button and releases.</em></p>
<p><strong>Description:</strong></p>
<p>Animates a button-pushing. It takes a button created using the MakeButton function and will animate a downclick when the mouse is down, and release when the mouse is unclicked.  To conform with general object handlers, it requires specifying a mouse click position, which could be [0,0], or gclick. This function is bound to the property ‘clickon’ of any button, allowing you to handle mouse clicks universally for many different objects.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">PushButton</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>T<span class="nv">he</span><span class="w"> </span><span class="nv">following</span><span class="w"> </span><span class="nv">creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">button</span><span class="p">,</span><span class="w"> </span><span class="nv">waits</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">click</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">it</span><span class="p">,</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">animates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">button</span><span class="w"> </span><span class="nv">press</span>


<span class="w"> </span><span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="w"> </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">done</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w"> </span><span class="nf">PushButton</span><span class="p">(</span><span class="nv">done</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>


T<span class="nv">o</span><span class="w"> </span><span class="nv">handle</span><span class="w"> </span><span class="nv">multiple</span><span class="w"> </span><span class="nv">buttons</span><span class="p">,</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">do</span><span class="o">:</span>


<span class="w"> </span><span class="nv">done</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w">   </span><span class="nf">MakeButton</span><span class="p">(</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>

<span class="w"> </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nv">resp</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">Draw</span><span class="p">()</span>
<span class="w">  </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">done</span><span class="p">,</span><span class="nv">ok</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="w">  </span><span class="nv">obj</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Nth</span><span class="p">([</span><span class="nv">done</span><span class="p">,</span><span class="nv">ok</span><span class="p">],</span><span class="nv">resp</span><span class="p">)</span>
<span class="w">  </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">obj.clickon</span><span class="p">,[</span><span class="nv">obj</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeCheckBox()</span></code></p>
</section>
<section id="pulldown">
<span id="index-26"></span><h2><a class="toc-backref" href="#id27" role="doc-backlink">Pulldown()</a><a class="headerlink" href="#pulldown" title="Link to this heading">¶</a></h2>
<p><em>Handles pulldown interaction</em></p>
<p><strong>Description:</strong></p>
<p>This handles making a new selection on a pulldown box. This function is typically the primary way of interacting with a pulldown box. It will have the effect of opening the pulldown box, waiting for the user to select a new option, and then changing the selected option to whatever they click on.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">Pulldown</span><span class="p">(</span><span class="nv">object</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nv">x</span><span class="p">,</span><span class="nv">y</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##See ui.pbl in the demo directory for examples of the use of pulldowns.</span>
<span class="c1">##A basic example is:</span>

<span class="nv">options</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakePulldownButton</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="s2">&quot;B&quot;</span><span class="p">,</span><span class="s2">&quot;C&quot;</span><span class="p">],</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">options</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="nv">newvalue</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Pulldown</span><span class="p">(</span><span class="nv">options</span><span class="p">,</span><span class="vg">gClick</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakePullDown()</span></code>, <a class="reference internal" href="#drawpulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawPulldown()</span></code></a>, <a class="reference internal" href="#updatepulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">UpdatePulldown()</span></code></a></p>
</section>
<section id="setscrollingtext">
<span id="index-27"></span><h2><a class="toc-backref" href="#id28" role="doc-backlink">SetScrollingText()</a><a class="headerlink" href="#setscrollingtext" title="Link to this heading">¶</a></h2>
<p><em>Changes text of a scrolling textbox.</em></p>
<p><strong>Description:</strong></p>
<p>This updates the text in a <code class="docutils literal notranslate"><span class="pre">ScrollingTextBox</span></code>. Because text must be parsed to be put into the box, you cannot just update the .text property, but instead should use this function.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SetScrollingText</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">demo</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">scrolling</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">box</span><span class="p">.</span><span class="w">  </span>A<span class="w"> </span><span class="nv">brief</span><span class="w"> </span><span class="nv">example</span><span class="w"> </span><span class="nv">follows</span><span class="o">:</span>


<span class="w">  </span><span class="nv">textscroll</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollingTextBox</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span>
<span class="w">                                        </span><span class="mi">300</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="w">  </span><span class="nf">SetScrollingText</span><span class="p">(</span><span class="nv">textscroll</span><span class="p">,</span><span class="nf">FileReadText</span><span class="p">(</span><span class="s2">&quot;Uppercase.txt&quot;</span><span class="p">))</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>
<span class="w">  </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">textscroll</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">textscroll.clickon</span><span class="p">,[</span><span class="nv">textscroll</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">MakeScrollingTextBox</span></code>
<code class="docutils literal notranslate"><span class="pre">MakeScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">UpdateScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">DrawScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">ClickOnScrollBox</span></code></p>
</section>
<section id="setcheckbox">
<span id="index-28"></span><h2><a class="toc-backref" href="#id29" role="doc-backlink">SetCheckbox()</a><a class="headerlink" href="#setcheckbox" title="Link to this heading">¶</a></h2>
<p><em>Sets checkbox state</em></p>
<p><strong>Description:</strong></p>
<p>This sets the .status property of a checkbox and draws it. Its state can also be updated using the ClickCheckBox() function, which flips the current state.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">SetCheckBox</span><span class="p">(</span><span class="nv">obj</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">ok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeCheckbox</span><span class="p">(</span><span class="s2">&quot;OK?&quot;</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">150</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">SetCheckBox</span><span class="p">(</span><span class="nv">ok</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">Wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="nf">SetCheckbox</span><span class="p">(</span><span class="nv">ok</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">Wait</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeCheckBox()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">ClickCheckBox()</span></code></p>
</section>
<section id="settextboxcursorfromclick">
<span id="index-29"></span><h2><a class="toc-backref" href="#id30" role="doc-backlink">SetTextBoxCursorFromClick()</a><a class="headerlink" href="#settextboxcursorfromclick" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>this is used directly by a compiled function GetInput0
to reset the cursor position in any getinput thing.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SetTextBoxCursorFromClick</span><span class="p">(</span><span class="nv">box</span><span class="p">,</span><span class="w"> </span><span class="nv">exit</span><span class="p">,</span><span class="w"> </span><span class="nv">click</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sortdir">
<span id="index-30"></span><h2><a class="toc-backref" href="#id31" role="doc-backlink">SortDir()</a><a class="headerlink" href="#sortdir" title="Link to this heading">¶</a></h2>
<p><strong>Description:</strong></p>
<p>This sorts the directory by subdirs
then alphabetically.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">SortDir</span><span class="p">(</span><span class="nv">inlist</span><span class="p">,</span><span class="nv">path</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="updatepulldown">
<span id="index-31"></span><h2><a class="toc-backref" href="#id32" role="doc-backlink">UpdatePulldown()</a><a class="headerlink" href="#updatepulldown" title="Link to this heading">¶</a></h2>
<p><em>Updates the list of a pulldown.</em></p>
<p><strong>Description:</strong></p>
<p>This changes the list being used in a Pulldown object.  It tries to maintain the same selected option (matching the text of the previous selection), but if not found will select index 1. It calls <code class="docutils literal notranslate"><span class="pre">DrawPullDown</span></code> when complete, but a <code class="docutils literal notranslate"><span class="pre">Draw()</span></code> command must be issued before the pulldown changes will appear.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">UpdatePulldown</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nv">options</span><span class="w">  </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakePulldownButton</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span>B<span class="s2">&quot;,&quot;</span>C<span class="s2">&quot;],400,250,gWin,14,100,3)</span>
<span class="s2">Draw()</span>
<span class="s2">WaitForAnyKeyPress()</span>

<span class="s2">##This should add a fourth option but C should still be selected.</span>
<span class="s2">UpdatePullDown(options,[&quot;</span>A<span class="s2">&quot;,&quot;</span>B<span class="s2">&quot;,&quot;</span>C<span class="s2">&quot;,&quot;</span>D&quot;<span class="p">])</span>
<span class="nf">Draw</span><span class="p">()</span>
<span class="nf">WaitForAnyKeyPress</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">MakePullDown()</span></code>, <a class="reference internal" href="#pulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">Pulldown()</span></code></a>, <a class="reference internal" href="#drawpulldown"><code class="xref py py-func docutils literal notranslate"><span class="pre">DrawPulldown()</span></code></a></p>
</section>
<section id="updatescrollbox">
<span id="index-32"></span><h2><a class="toc-backref" href="#id33" role="doc-backlink">UpdateScrollbox()</a><a class="headerlink" href="#updatescrollbox" title="Link to this heading">¶</a></h2>
<p><em>Recalculates scrollbox layout.</em></p>
<p><strong>Description:</strong></p>
<p>This updates the layout of a <code class="docutils literal notranslate"><span class="pre">ScrollBox</span></code>. It should be used if you manually change the .list or .listoffset properties.  It won’t actually redraw the scrollbox (which is done by DrawScrollbox).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="nf">UpdateScrollbox</span><span class="p">(...)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span>S<span class="nv">ee</span><span class="w"> </span><span class="nv">ui.pbl</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">demo</span><span class="w"> </span><span class="nv">directory</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">examples</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">scrolling</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">box</span><span class="p">.</span><span class="w">  </span>A<span class="w"> </span><span class="nv">brief</span><span class="w"> </span><span class="nv">example</span><span class="w"> </span><span class="nv">follows</span><span class="o">:</span>


<span class="w">   </span><span class="nv">sb</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeScrollBox</span><span class="p">(</span><span class="nf">Sequence</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&quot;The numbers&quot;</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="vg">gWin</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>

<span class="w">   </span><span class="nv">resp</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">WaitForClickOntarget</span><span class="p">([</span><span class="nv">sb</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="nf">CallFunction</span><span class="p">(</span><span class="nv">sb.clickon</span><span class="p">,[</span><span class="nv">sb</span><span class="p">,</span><span class="vg">gClick</span><span class="p">])</span>
<span class="w">   </span><span class="c1">#Alternately: ClickOnScrollbox(sb,gClick)</span>

<span class="w">   </span><span class="c1">##change the selected items</span>
<span class="w">   </span><span class="nv">sb.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">Sequence</span><span class="p">(</span><span class="nv">sb.selected</span><span class="p">,</span><span class="nv">sb.selected</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="nf">UpdateScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="w">   </span><span class="nf">DrawScrollbox</span><span class="p">(</span><span class="nv">sb</span><span class="p">)</span>
<span class="w">   </span><span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">MakeScrollingTextBox</span></code>
<code class="docutils literal notranslate"><span class="pre">MakeScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">DrawScrollBox</span></code>
<code class="docutils literal notranslate"><span class="pre">ClickOnScrollBox</span></code></p>
</section>
<section id="vecplus">
<span id="index-33"></span><h2><a class="toc-backref" href="#id34" role="doc-backlink">VecPlus()</a><a class="headerlink" href="#vecplus" title="Link to this heading">¶</a></h2>
<p><em>Adds a scalar to all vector elements</em></p>
<p><strong>Description:</strong></p>
<p>Adds a constant value to every element in a vector (list of numbers), returning a new vector with the results. This is a simple vector arithmetic operation useful for shifting or offsetting entire datasets.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">VecPlus</span><span class="p">(</span><span class="nv">vec</span><span class="p">,</span><span class="w"> </span><span class="nv">add</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##Shift a list of values by adding 10 to each</span>
<span class="nv">values</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span>
<span class="nv">shifted</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">VecPlus</span><span class="p">(</span><span class="nv">values</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="c1">##Returns: [11, 12, 13, 14, 15]</span>

<span class="c1">##Offset coordinates</span>
<span class="nv">xCoords</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">250</span><span class="p">]</span>
<span class="nv">xShifted</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">VecPlus</span><span class="p">(</span><span class="nv">xCoords</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span>
<span class="c1">##Returns: [150, 200, 250, 300]</span>

<span class="c1">##Can be used with negative values</span>
<span class="nv">temps</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">72</span><span class="p">,</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w"> </span><span class="mi">71</span><span class="p">]</span>
<span class="nv">adjusted</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">VecPlus</span><span class="p">(</span><span class="nv">temps</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p">)</span>
<span class="c1">##Returns: [40, 43, 36, 39]</span>
</pre></div>
</div>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="pebllist.html#sequence"><code class="xref py py-func docutils literal notranslate"><span class="pre">Sequence()</span></code></a>, <a class="reference internal" href="pebllist.html#repeat"><code class="xref py py-func docutils literal notranslate"><span class="pre">Repeat()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Rep()</span></code></p>
</section>
<section id="adaptivetextbox">
<span id="index-34"></span><h2><a class="toc-backref" href="#id35" role="doc-backlink">AdaptiveTextBox()</a><a class="headerlink" href="#adaptivetextbox" title="Link to this heading">¶</a></h2>
<p><em>Creates a textbox that automatically adapts to fit content</em></p>
<p><strong>Description:</strong></p>
<p>Creates a textbox that automatically adjusts to display text that doesn’t fit in the specified dimensions. Two adaptation strategies are available: scaling the box (preserves font size) or scaling the font (preserves box size). Uses the new <code class="docutils literal notranslate"><span class="pre">textComplete</span></code> property to detect when all text has been rendered.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="nf">AdaptiveTextBox</span><span class="p">(</span><span class="nv">text</span><span class="p">,</span><span class="w"> </span><span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">window</span><span class="p">,</span><span class="w"> </span><span class="nv">fontsize</span><span class="p">,</span><span class="w"> </span><span class="nv">width</span><span class="p">,</span><span class="w"> </span><span class="nv">height</span><span class="p">,</span><span class="w"> </span><span class="nv">adaptive</span><span class="p">,</span><span class="w"> </span><span class="nv">maxlines</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code>: The text content to display</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y</span></code>: Position coordinates (upper-left corner)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window</span></code>: Parent window object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>: Initial font size in points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">width,</span> <span class="pre">height</span></code>: Target box dimensions in pixels</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adaptive</span></code>: Adaptation strategy - <code class="docutils literal notranslate"><span class="pre">0</span></code> (none), <code class="docutils literal notranslate"><span class="pre">&quot;scalebox&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;scalefont&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxlines</span></code>: Maximum number of lines allowed (default: 30)</p></li>
</ul>
<p><strong>Adaptation Strategies:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - No adaptation; creates standard textbox (text may overflow)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;scalebox&quot;</span></code> - Expands box to fit all text, then scales down using zoom to original size (preserves font size, uses SDL2 anisotropic filtering for quality)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;scalefont&quot;</span></code> - Iteratively reduces font size until text fits (preserves box dimensions exactly, minimum 8pt)</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-pebl notranslate"><div class="highlight"><pre><span></span><span class="c1">##Create window</span>
<span class="nv">win</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">MakeWindow</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1">##Long instruction text that needs adaptation</span>
<span class="nv">instructions</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;Welcome to the experiment. Please read these instructions carefully. &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s2">&quot;This is a long text that demonstrates the adaptive textbox functionality. &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">                </span><span class="s2">&quot;The textbox will automatically adjust to fit all this content.&quot;</span>

<span class="c1">##Use scalefont strategy - reduces font size to fit</span>
<span class="nv">box1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AdaptiveTextBox</span><span class="p">(</span><span class="nv">instructions</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="nv">win</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;scalefont&quot;</span><span class="p">)</span>

<span class="c1">##Use scalebox strategy - preserves font size, scales box down</span>
<span class="nv">box2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AdaptiveTextBox</span><span class="p">(</span><span class="nv">instructions</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="nv">win</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;scalebox&quot;</span><span class="p">)</span>

<span class="c1">##No adaptation - text may overflow</span>
<span class="nv">box3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">AdaptiveTextBox</span><span class="p">(</span><span class="nv">instructions</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">,</span><span class="w"> </span><span class="nv">win</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>

<span class="nf">Draw</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Strategy Comparison:</strong></p>
<p><strong>ScaleBox:</strong></p>
<ul class="simple">
<li><p>Maintains original font size (better for accessibility/readability)</p></li>
<li><p>Creates larger internal box, then scales down using zoom</p></li>
<li><p>High-quality rendering with SDL2 anisotropic filtering</p></li>
<li><p>Uses more memory (larger internal texture)</p></li>
<li><p>Visual size matches specified dimensions exactly</p></li>
</ul>
<p><strong>ScaleFont:</strong></p>
<ul class="simple">
<li><p>Maintains box dimensions exactly as specified</p></li>
<li><p>Reduces font size iteratively (8pt minimum)</p></li>
<li><p>Text remains sharp (no scaling artifacts)</p></li>
<li><p>More memory efficient</p></li>
<li><p>May reduce readability if text is very long</p></li>
</ul>
<p><strong>See Also:</strong></p>
<p><a class="reference internal" href="utility.html#easytextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">EasyTextBox()</span></code></a>, <a class="reference internal" href="peblobjects.html#maketextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeTextBox()</span></code></a>, <a class="reference internal" href="#makescrollingtextbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">MakeScrollingTextBox()</span></code></a></p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PEBL Function Reference</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Built-in Namespaces:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="peblenvironment.html">Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="pebllist.html">Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblmath.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblobjects.html">Graphics &amp; Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblstream.html">File &amp; Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="peblstring.html">Strings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library Functions:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility.html">Utility</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="../genindex.html">Function Index</a></li>
    
    <li class="toctree-l1"><a href="../documentation.html">PEBL Documentation</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="math.html" title="previous chapter">Math Library - Extended Mathematical</a></li>
      <li>Next: <a href="utility.html" title="next chapter">Utility Library - Helpers and Utilities</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Shane T. Mueller.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/ui.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>