## Test luckvogel instruction screen with semantic labels

define Start(p)
{
  gSubNum <- 999

  ## Test with keyboardShift mode
  Print("=== Testing luckvogel instruction screen ===")

  parpairs <- [["fieldWidth",200],
               ["fieldheight",200],
               ["squaresize",30],
               ["prestime",300],
               ["delaytime",1000],
               ["length1",1],
               ["length2",2],
               ["length3",3],
               ["trialsperlength",1],
               ["givefeedback",0],
               ["blocksize",40],
               ["useAudiofeedback",0],
               ["responsemode","keyboardShift"],
               ["responselabels",["SAME","DIFFERENT"]]]

  gParams <- CreateParameters(parpairs,gParamFile)
  gWin <- MakeWindow("black")

  GetStrings(gLanguage)
  gLayout <- CreateLayout("luckvogel", gWin, gParams)

  ## Show instruction screen (this is what user will see)
  Print("Instruction text (INST3):")
  Print(gStrings.inst3)
  Print("")

  Print("Footer visible: " + gLayout.footer.visible)
  Print("Footer text: " + gLayout.footer.text)
  Print("")

  Print("Response labels:")
  loop(label, gLayout.responseLabels)
  {
    Print("  - " + label.text)
  }

  ## Show what screen looks like before instruction 3
  gLayout.footer.visible <- 0
  Draw()
  Wait(2000)

  ## Now show instruction 3 with footer visible (this is line 194 in luckvogel.pbl)
  Print("")
  Print("Now making footer visible (as done at instruction 3)...")
  gLayout.footer.visible <- 1
  Draw()
  Wait(3000)
}

define GetStrings(lang)
{
  gStrings <- GetTranslations("luckvogel", lang)
}
